{
  "version": 3,
  "sources": ["angular:jit:template:src/app/shared/components/video-player/video-player.component.html", "angular:jit:style:src/app/shared/components/video-player/video-player.component.css", "src/app/shared/components/video-player/video-player.component.ts"],
  "sourcesContent": ["<div class=\"video-player\" #videoContainer>\n  <div class=\"video-container\" [class.playing]=\"isPlaying\">\n    <!-- Video content will be injected here -->\n    \n    <!-- Play overlay button -->\n    <button \n      #playButton\n      class=\"play-button\"\n      [class.hidden]=\"isPlaying || type === 'youtube'\"\n      (click)=\"onPlayButtonClick()\"\n      aria-label=\"Play video\">\n      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n        <path d=\"M8 5v14l11-7z\" fill=\"currentColor\"/>\n      </svg>\n    </button>\n\n    <!-- Loading indicator -->\n    <div class=\"loading-indicator\" [class.hidden]=\"isPlayerReady\">\n      <div class=\"spinner\"></div>\n    </div>\n  </div>\n</div>", "/* src/app/shared/components/video-player/video-player.component.css */\n.video-player {\n  position: relative;\n  width: 100%;\n  aspect-ratio: 16 / 9;\n  background: #000;\n  border-radius: 8px;\n  overflow: hidden;\n}\n.video-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.play-button {\n  position: absolute;\n  width: 64px;\n  height: 64px;\n  border-radius: 50%;\n  background: rgba(11, 110, 255, 0.85);\n  border: none;\n  color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: background .3s;\n}\n.play-button:hover {\n  background: #0B6EFF;\n}\n.play-button.hidden {\n  display: none;\n}\n.loading-indicator {\n  position: absolute;\n  inset: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(0, 0, 0, 0.4);\n}\n.loading-indicator.hidden {\n  display: none;\n}\n.spinner {\n  width: 40px;\n  height: 40px;\n  border: 4px solid rgba(255, 255, 255, 0.2);\n  border-top-color: #00C28A;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n@media (max-width: 600px) {\n  .video-player {\n    aspect-ratio: 16 / 9;\n    border-radius: 0;\n  }\n}\n/*# sourceMappingURL=video-player.component.css.map */\n", "import { Component, Input, OnInit, OnDestroy, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\n\nexport type VideoType = 'youtube' | 'hls' | 'local360';\n\n@Component({\n  selector: 'app-video-player',\n  templateUrl: './video-player.component.html',\n  styleUrls: ['./video-player.component.css'],\n  standalone: false\n})\nexport class VideoPlayerComponent implements OnInit, OnDestroy, AfterViewInit {\n  @Input() src!: string;\n  @Input() type: VideoType = 'youtube';\n  @Input() poster?: string;\n  @Input() autoplay = true;\n  @Input() muted = true;\n  @Input() lazyLoad = true;\n\n  @ViewChild('videoContainer', { static: true }) videoContainer!: ElementRef<HTMLDivElement>;\n  @ViewChild('playButton', { static: true }) playButton!: ElementRef<HTMLButtonElement>;\n\n  isVisible = false;\n  isPlaying = false;\n  isPlayerReady = false;\n  player: any;\n  observer?: IntersectionObserver;\n\n  ngOnInit(): void {\n    if (this.lazyLoad) {\n      this.setupIntersectionObserver();\n    } else {\n      this.initializePlayer();\n    }\n  }\n\n  ngAfterViewInit(): void {\n    if (!this.lazyLoad) {\n      this.initializePlayer();\n    }\n  }\n\n  ngOnDestroy(): void {\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n    this.destroyPlayer();\n  }\n\n  private setupIntersectionObserver(): void {\n    this.observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach(entry => {\n          const isCurrentlyVisible = entry.isIntersecting;\n          \n          if (isCurrentlyVisible && !this.isVisible) {\n            this.isVisible = true;\n            this.initializePlayer();\n          } else if (!isCurrentlyVisible && this.isVisible) {\n            this.isVisible = false;\n            if (this.isPlaying) {\n              this.pauseVideo();\n            }\n          }\n        });\n      },\n      { \n        threshold: 0.5,\n        rootMargin: '50px'\n      }\n    );\n\n    this.observer.observe(this.videoContainer.nativeElement);\n  }\n\n  private initializePlayer(): void {\n    if (this.isPlayerReady) return;\n\n    switch (this.type) {\n      case 'youtube':\n        this.initYouTubePlayer();\n        break;\n      case 'hls':\n        this.initHLSPlayer();\n        break;\n      case 'local360':\n        this.init360Player();\n        break;\n    }\n  }\n\n  private initYouTubePlayer(): void {\n    if (!this.src) return;\n\n    const videoId = this.extractYouTubeVideoId(this.src);\n    if (!videoId) return;\n\n    // Use YouTube Embed API\n    const iframe = document.createElement('iframe');\n    iframe.src = `https://www.youtube-nocookie.com/embed/${videoId}?enablejsapi=1&autoplay=${this.autoplay ? 1 : 0}&mute=${this.muted ? 1 : 0}&rel=0&modestbranding=1`;\n    iframe.width = '100%';\n    iframe.height = '100%';\n    iframe.frameBorder = '0';\n    iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';\n    iframe.allowFullscreen = true;\n    \n    this.videoContainer.nativeElement.innerHTML = '';\n    this.videoContainer.nativeElement.appendChild(iframe);\n    this.isPlayerReady = true;\n\n    if (this.autoplay && this.isVisible) {\n      setTimeout(() => this.playVideo(), 1000);\n    }\n  }\n\n  private initHLSPlayer(): void {\n    const video = document.createElement('video');\n    video.controls = true;\n    video.muted = this.muted;\n    video.autoplay = this.autoplay;\n    video.poster = this.poster || '';\n    video.style.width = '100%';\n    video.style.height = '100%';\n\n    if (this.src.includes('.m3u8')) {\n      // HLS support would require hls.js library\n      video.src = this.src;\n    } else {\n      video.src = this.src;\n    }\n\n    this.videoContainer.nativeElement.innerHTML = '';\n    this.videoContainer.nativeElement.appendChild(video);\n    this.player = video;\n    this.isPlayerReady = true;\n\n    video.addEventListener('play', () => this.onPlay());\n    video.addEventListener('pause', () => this.onPause());\n  }\n\n  private init360Player(): void {\n    // 360 player would be implemented with panolens + three.js\n    // For now, fallback to regular video\n    this.initHLSPlayer();\n  }\n\n  private extractYouTubeVideoId(url: string): string | null {\n    const regex = /(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/|youtube\\.com\\/shorts\\/)([^\"&?\\/\\s]{11})/;\n    const match = url.match(regex);\n    return match ? match[1] : null;\n  }\n\n  playVideo(): void {\n    if (this.type === 'youtube') {\n      // YouTube API play would go here\n      this.isPlaying = true;\n      this.onPlay();\n    } else if (this.player) {\n      this.player.play();\n    }\n  }\n\n  pauseVideo(): void {\n    if (this.type === 'youtube') {\n      // YouTube API pause would go here\n      this.isPlaying = false;\n      this.onPause();\n    } else if (this.player) {\n      this.player.pause();\n    }\n  }\n\n  onPlayButtonClick(): void {\n    if (this.isPlaying) {\n      this.pauseVideo();\n    } else {\n      this.playVideo();\n    }\n  }\n\n  private onPlay(): void {\n    this.isPlaying = true;\n    // Emit play event\n  }\n\n  private onPause(): void {\n    this.isPlaying = false;\n    // Emit pause event\n  }\n\n  private destroyPlayer(): void {\n    if (this.player) {\n      this.player.pause();\n      this.player = null;\n    }\n    this.isPlayerReady = false;\n    this.isPlaying = false;\n  }\n}"],
  "mappings": "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",
  "names": ["video_player_component_default", "init_video_player_component", "VideoPlayerComponent"]
}
