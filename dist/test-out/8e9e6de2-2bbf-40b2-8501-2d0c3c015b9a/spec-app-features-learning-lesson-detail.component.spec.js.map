{
  "version": 3,
  "sources": ["angular:jit:template:src/app/features/learning/lesson-detail.component.html", "angular:jit:style:src/app/features/learning/lesson-detail.component.css", "src/app/features/learning/lesson-detail.component.ts", "src/app/features/learning/lesson-detail.component.spec.ts"],
  "sourcesContent": ["<div class=\"lesson-detail-container\" *ngIf=\"lessonData\">\n  <!-- Header -->\n  <div class=\"lesson-header\">\n    <button class=\"back-btn\" (click)=\"goBack()\">\n      <span class=\"back-icon\">\u2190</span> Back to Lessons\n    </button>\n    <div class=\"lesson-title-section\">\n      <h1>{{ lessonData.title }}</h1>\n      <div class=\"lesson-meta\">\n        <span class=\"meta-badge level-{{ lessonData.level }}\">{{ lessonData.level }}</span>\n        <span class=\"meta-badge category\">{{ lessonData.category }}</span>\n        <span class=\"progress-badge\">{{ getProgressPercentage() }}% Complete</span>\n      </div>\n    </div>\n    <div class=\"action-buttons\">\n      <button class=\"action-btn ai-coach-btn\" (click)=\"toggleAIPanel()\" title=\"AI Coach Feedback\">\n        \uD83E\uDD16 AI Coach\n      </button>\n      <button class=\"action-btn mentor-btn\" (click)=\"toggleMentorPanel()\" title=\"Book Live Mentor\">\n        \uD83D\uDC68\u200D\uD83C\uDFEB Live Mentor\n      </button>\n      <button class=\"action-btn\" (click)=\"downloadTranscript()\" title=\"Download Transcript\">\n        \uD83D\uDCE5 Download\n      </button>\n      <div class=\"speed-control\">\n        <label>Speed:</label>\n        <button \n          class=\"speed-btn\"\n          [class.active]=\"playbackSpeed() === 0.75\"\n          (click)=\"setPlaybackSpeed(0.75)\">\n          0.75x\n        </button>\n        <button \n          class=\"speed-btn\"\n          [class.active]=\"playbackSpeed() === 1\"\n          (click)=\"setPlaybackSpeed(1)\">\n          1x\n        </button>\n        <button \n          class=\"speed-btn\"\n          [class.active]=\"playbackSpeed() === 1.25\"\n          (click)=\"setPlaybackSpeed(1.25)\">\n          1.25x\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <!-- Main Content -->\n  <div class=\"lesson-content\">\n    <!-- Left Panel: Video -->\n    <div class=\"video-panel\">\n      <div class=\"video-container\">\n        <!-- YouTube Video -->\n        <iframe \n          *ngIf=\"videoUrl && lessonData && !lessonData.videoId.includes('local')\"\n          [src]=\"videoUrl\"\n          frameborder=\"0\"\n          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n          allowfullscreen>\n        </iframe>\n        \n        <!-- Local Video -->\n        <video \n          *ngIf=\"videoUrl && lessonData && lessonData.videoId.includes('local')\"\n          [src]=\"videoUrl\"\n          controls\n          class=\"local-video\">\n          Your browser does not support the video tag.\n        </video>\n      </div>\n      \n      <!-- Video Controls Info -->\n      <div class=\"video-info\">\n        <div class=\"info-tip\">\n          <span class=\"tip-icon\">\uD83D\uDCA1</span>\n          <p>Watch the video and follow along with the interactive transcript below. Click play buttons to hear pronunciation!</p>\n        </div>\n      </div>\n    </div>\n\n    <!-- Right Panel: Tabs -->\n    <div class=\"interactive-panel\">\n      <!-- Tab Navigation -->\n      <div class=\"tab-navigation\">\n        <button \n          class=\"tab-btn\"\n          [class.active]=\"currentTab() === 'transcript'\"\n          (click)=\"switchTab('transcript')\">\n          <span class=\"tab-icon\">\uD83D\uDCAC</span>\n          Transcript\n        </button>\n        <button \n          class=\"tab-btn\"\n          [class.active]=\"currentTab() === 'vocabulary'\"\n          (click)=\"switchTab('vocabulary')\">\n          <span class=\"tab-icon\">\uD83D\uDCDA</span>\n          Vocabulary\n        </button>\n        <button \n          class=\"tab-btn\"\n          [class.active]=\"currentTab() === 'grammar'\"\n          (click)=\"switchTab('grammar')\">\n          <span class=\"tab-icon\">\u270F\uFE0F</span>\n          Grammar\n        </button>\n      </div>\n\n      <!-- Transcript Tab -->\n      <div class=\"tab-content\" *ngIf=\"currentTab() === 'transcript'\">\n        <div class=\"transcript-header\">\n          <h3>Interactive Dialogue</h3>\n          <p class=\"subtitle\">Click \u25B6 to hear each line, \uD83C\uDFA4 to practice speaking</p>\n        </div>\n        \n        <div class=\"dialogue-list\">\n          <div \n            *ngFor=\"let line of lessonData.dialogue\"\n            class=\"dialogue-line\"\n            [class.active]=\"currentLineId() === line.id\"\n            [class.completed]=\"completedLines().has(line.id)\"\n            [class.bookmarked]=\"bookmarkedLines().has(line.id)\">\n            \n            <div class=\"line-header\">\n              <div class=\"speaker-info\">\n                <span class=\"speaker-avatar\">{{ line.speaker.charAt(0) }}</span>\n                <span class=\"speaker-name\">{{ line.speaker }}</span>\n              </div>\n              <div class=\"line-actions\">\n                <button \n                  class=\"action-icon-btn bookmark-btn\"\n                  [class.active]=\"bookmarkedLines().has(line.id)\"\n                  (click)=\"toggleBookmark(line.id)\"\n                  title=\"Bookmark\">\n                  {{ bookmarkedLines().has(line.id) ? '\u2B50' : '\u2606' }}\n                </button>\n                <button \n                  class=\"action-icon-btn play-btn\"\n                  (click)=\"playLine(line)\"\n                  [disabled]=\"currentLineId() === line.id\"\n                  title=\"Play audio\">\n                  \u25B6\n                </button>\n                <button \n                  class=\"action-icon-btn record-btn\"\n                  [class.recording]=\"isRecording()\"\n                  (click)=\"startRecording(line)\"\n                  title=\"Practice pronunciation\">\n                  \uD83C\uDFA4\n                </button>\n              </div>\n            </div>\n            \n            <div class=\"line-content\">\n              <p class=\"line-text\">{{ line.text }}</p>\n              <span class=\"timestamp\">{{ line.timestamp }}s</span>\n            </div>\n            \n            <!-- Pronunciation Feedback -->\n            <div class=\"pronunciation-feedback\" *ngIf=\"recognizedText() && currentLineId() === line.id\">\n              <div class=\"feedback-header\">\n                <span class=\"feedback-label\">You said:</span>\n                <span class=\"score\" [class]=\"pronunciationScore()! >= 70 ? 'good' : 'needs-work'\">\n                  Score: {{ pronunciationScore() }}%\n                </span>\n              </div>\n              <p class=\"recognized-text\">{{ recognizedText() }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Vocabulary Tab -->\n      <div class=\"tab-content\" *ngIf=\"currentTab() === 'vocabulary'\">\n        <div class=\"vocabulary-header\">\n          <h3>Key Vocabulary</h3>\n          <p class=\"subtitle\">{{ lessonData.vocabulary.length }} important words and phrases</p>\n        </div>\n        \n        <div class=\"vocabulary-list\">\n          <div \n            *ngFor=\"let item of lessonData.vocabulary\"\n            class=\"vocabulary-card\">\n            <div class=\"vocab-header\">\n              <h4 class=\"vocab-word\">{{ item.word }}</h4>\n              <button \n                class=\"action-icon-btn play-btn\"\n                (click)=\"playVocabulary(item)\"\n                title=\"Hear pronunciation\">\n                \uD83D\uDD0A\n              </button>\n            </div>\n            <p class=\"vocab-meaning\">\n              <span class=\"label\">Meaning:</span> {{ item.meaning }}\n            </p>\n            <p class=\"vocab-example\">\n              <span class=\"label\">Example:</span> <em>\"{{ item.example }}\"</em>\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Grammar Tab -->\n      <div class=\"tab-content\" *ngIf=\"currentTab() === 'grammar'\">\n        <div class=\"grammar-header\">\n          <h3>Grammar Points</h3>\n          <p class=\"subtitle\">{{ lessonData.grammar.length }} key grammar structures used in this lesson</p>\n        </div>\n        \n        <div class=\"grammar-list\">\n          <div \n            *ngFor=\"let point of lessonData.grammar; let i = index\"\n            class=\"grammar-card\">\n            <div class=\"grammar-number\">{{ i + 1 }}</div>\n            <h4 class=\"grammar-title\">{{ point.title }}</h4>\n            <p class=\"grammar-explanation\">{{ point.explanation }}</p>\n            <div class=\"grammar-examples\">\n              <span class=\"examples-label\">Examples:</span>\n              <ul>\n                <li *ngFor=\"let example of point.examples\">{{ example }}</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Progress Bar -->\n  <div class=\"progress-section\">\n    <div class=\"progress-info\">\n      <span class=\"progress-label\">Your Progress</span>\n      <span class=\"progress-text\">{{ completedLines().size }} / {{ lessonData.dialogue.length }} lines completed</span>\n    </div>\n    <div class=\"progress-bar\">\n      <div class=\"progress-fill\" [style.width.%]=\"getProgressPercentage()\"></div>\n    </div>\n  </div>\n\n  <!-- AI Coach Panel (Slide-in) -->\n  <div class=\"side-panel ai-coach-panel\" [class.open]=\"showAIPanel()\">\n    <div class=\"panel-header\">\n      <h3>\uD83E\uDD16 AI Coach Feedback</h3>\n      <button class=\"close-btn\" (click)=\"closeAIPanel()\">\u2715</button>\n    </div>\n    \n    <div class=\"panel-content\" *ngIf=\"aiFeedback()\">\n      <!-- Overall Score -->\n      <div class=\"overall-score-card\">\n        <div class=\"score-circle\" [class.excellent]=\"aiFeedback()!.overallScore >= 85\" \n             [class.good]=\"aiFeedback()!.overallScore >= 70 && aiFeedback()!.overallScore < 85\"\n             [class.needs-work]=\"aiFeedback()!.overallScore < 70\">\n          <span class=\"score-number\">{{ aiFeedback()!.overallScore }}</span>\n          <span class=\"score-suffix\">%</span>\n        </div>\n        <p class=\"overall-feedback\">\n          <ng-container *ngIf=\"aiFeedback()!.overallScore >= 85\">Excellent work! Keep it up!</ng-container>\n          <ng-container *ngIf=\"aiFeedback()!.overallScore >= 70 && aiFeedback()!.overallScore < 85\">Good job! With more practice, you'll be perfect!</ng-container>\n          <ng-container *ngIf=\"aiFeedback()!.overallScore < 70\">Keep practicing! You're improving!</ng-container>\n        </p>\n      </div>\n\n      <!-- Detailed Feedback Sections -->\n      <div class=\"feedback-sections\">\n        <!-- Pronunciation -->\n        <div class=\"feedback-card\">\n          <div class=\"feedback-card-header\">\n            <h4>\uD83D\uDDE3\uFE0F Pronunciation</h4>\n            <span class=\"score-badge\" [class.good]=\"aiFeedback()!.pronunciation.score >= 70\">\n              {{ aiFeedback()!.pronunciation.score }}%\n            </span>\n          </div>\n          <div class=\"feedback-content\">\n            <div class=\"errors-section\" *ngIf=\"aiFeedback()!.pronunciation.errors.length > 0\">\n              <p class=\"section-label\">Errors Detected:</p>\n              <ul>\n                <li *ngFor=\"let error of aiFeedback()!.pronunciation.errors\">{{ error }}</li>\n              </ul>\n            </div>\n            <div class=\"suggestions-section\">\n              <p class=\"section-label\">\uD83D\uDCA1 Suggestions:</p>\n              <ul>\n                <li *ngFor=\"let suggestion of aiFeedback()!.pronunciation.suggestions\">{{ suggestion }}</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n\n        <!-- Grammar -->\n        <div class=\"feedback-card\">\n          <div class=\"feedback-card-header\">\n            <h4>\u270F\uFE0F Grammar</h4>\n            <span class=\"score-badge\" [class.good]=\"aiFeedback()!.grammar.score >= 70\">\n              {{ aiFeedback()!.grammar.score }}%\n            </span>\n          </div>\n          <div class=\"feedback-content\">\n            <div class=\"errors-section\">\n              <p class=\"section-label\">Analysis:</p>\n              <ul>\n                <li *ngFor=\"let error of aiFeedback()!.grammar.errors\">{{ error }}</li>\n              </ul>\n            </div>\n            <div class=\"corrections-section\" *ngIf=\"aiFeedback()!.grammar.corrections.length > 0\">\n              <p class=\"section-label\">\uD83D\uDCA1 Tips:</p>\n              <ul>\n                <li *ngFor=\"let correction of aiFeedback()!.grammar.corrections\">{{ correction }}</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n\n        <!-- Fluency -->\n        <div class=\"feedback-card\">\n          <div class=\"feedback-card-header\">\n            <h4>\uD83C\uDFAF Fluency</h4>\n            <span class=\"score-badge\" [class.good]=\"aiFeedback()!.fluency.score >= 70\">\n              {{ aiFeedback()!.fluency.score }}%\n            </span>\n          </div>\n          <div class=\"feedback-content\">\n            <p>{{ aiFeedback()!.fluency.feedback }}</p>\n          </div>\n        </div>\n\n        <!-- Accent -->\n        <div class=\"feedback-card\">\n          <div class=\"feedback-card-header\">\n            <h4>\uD83C\uDFA4 Accent & Intonation</h4>\n            <span class=\"score-badge\" [class.good]=\"aiFeedback()!.accent.score >= 70\">\n              {{ aiFeedback()!.accent.score }}%\n            </span>\n          </div>\n          <div class=\"feedback-content\">\n            <p class=\"section-label\">\uD83D\uDCA1 Tips to improve:</p>\n            <ul>\n              <li *ngFor=\"let tip of aiFeedback()!.accent.tips\">{{ tip }}</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <!-- Practice History -->\n      <div class=\"practice-history\" *ngIf=\"practiceHistory().length > 0\">\n        <h4>\uD83D\uDCCA Practice History</h4>\n        <div class=\"history-list\">\n          <div class=\"history-item\" *ngFor=\"let practice of practiceHistory().slice(-5)\">\n            <span class=\"practice-time\">{{ practice.timestamp | date: 'short' }}</span>\n            <span class=\"practice-score\" [class.good]=\"practice.score >= 70\">{{ practice.score }}%</span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"panel-content analyzing\" *ngIf=\"isAnalyzing()\">\n      <div class=\"analyzing-animation\">\n        <div class=\"spinner\"></div>\n        <p>AI is analyzing your speech...</p>\n      </div>\n    </div>\n\n    <div class=\"panel-content empty\" *ngIf=\"!aiFeedback() && !isAnalyzing()\">\n      <div class=\"empty-state\">\n        <span class=\"empty-icon\">\uD83C\uDFA4</span>\n        <h4>Practice to Get Feedback</h4>\n        <p>Click the \uD83C\uDFA4 button next to any dialogue line to practice pronunciation and get AI-powered feedback!</p>\n      </div>\n    </div>\n  </div>\n\n  <!-- Live Mentor Panel (Slide-in) -->\n  <div class=\"side-panel mentor-panel\" [class.open]=\"showMentorPanel()\">\n    <div class=\"panel-header\">\n      <h3>\uD83D\uDC68\u200D\uD83C\uDFEB Live Mentor Sessions</h3>\n      <button class=\"close-btn\" (click)=\"closeMentorPanel()\">\u2715</button>\n    </div>\n    \n    <div class=\"panel-content\">\n      <div class=\"mentor-intro\">\n        <p>Book a live session with expert mentors to discuss this video lesson:</p>\n        <ul class=\"mentor-benefits\">\n          <li>\uD83D\uDCD6 Detailed context explanation of scenes</li>\n          <li>\uD83D\uDD24 Word-by-word breakdown and usage</li>\n          <li>\u270F\uFE0F Grammar and sentence structure analysis</li>\n          <li>\u2753 Get your doubts resolved instantly</li>\n          <li>\uD83C\uDFAF Real-life application tips</li>\n        </ul>\n      </div>\n\n      <!-- Available Sessions -->\n      <div class=\"mentor-sessions-list\">\n        <h4>Available Sessions for \"{{ lessonData.title }}\"</h4>\n        \n        <div class=\"mentor-card\" *ngFor=\"let session of mentorSessions()\">\n          <div class=\"mentor-profile\">\n            <img [src]=\"session.mentorPhoto\" [alt]=\"session.mentorName\" class=\"mentor-avatar\">\n            <div class=\"mentor-info\">\n              <h5>{{ session.mentorName }}</h5>\n              <div class=\"mentor-rating\">\n                <span class=\"stars\">\u2B50 {{ session.rating }}</span>\n                <span class=\"review-count\">(250+ reviews)</span>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"session-details\">\n            <div class=\"detail-row\">\n              <span class=\"detail-icon\">\uD83D\uDCC5</span>\n              <span>{{ session.date | date: 'fullDate' }}</span>\n            </div>\n            <div class=\"detail-row\">\n              <span class=\"detail-icon\">\uD83D\uDD50</span>\n              <span>{{ session.time }} ({{ session.duration }})</span>\n            </div>\n            <div class=\"detail-row\">\n              <span class=\"detail-icon\">\uD83D\uDC65</span>\n              <span>{{ session.availableSlots }} spots left</span>\n            </div>\n            <div class=\"detail-row\">\n              <span class=\"detail-icon\">\uD83D\uDCB0</span>\n              <span class=\"price\">\u20B9{{ session.price }}</span>\n            </div>\n          </div>\n\n          <div class=\"session-topics\">\n            <p class=\"topics-label\">Topics Covered:</p>\n            <div class=\"topics-tags\">\n              <span class=\"topic-tag\" *ngFor=\"let topic of session.topics\">{{ topic }}</span>\n            </div>\n          </div>\n\n          <button class=\"book-btn\" (click)=\"bookMentorSession(session)\">\n            Book Session \u2192\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- Loading State -->\n<div class=\"loading-state\" *ngIf=\"!lessonData\">\n  <div class=\"spinner\"></div>\n  <p>Loading lesson...</p>\n</div>\n", "/* src/app/features/learning/lesson-detail.component.css */\n.lesson-detail-container {\n  min-height: 100vh;\n  padding: 5rem 0 2rem;\n  background:\n    linear-gradient(\n      180deg,\n      #f8f9fa 0%,\n      #ffffff 100%);\n}\n.lesson-header {\n  max-width: 1400px;\n  margin: 0 auto 2rem;\n  padding: 0 1rem;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  gap: 1.5rem;\n}\n.back-btn {\n  padding: 0.75rem 1.25rem;\n  background: white;\n  border: 2px solid #e9ecef;\n  border-radius: 12px;\n  color: #6c757d;\n  font-size: 0.875rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.back-btn:hover {\n  border-color: #0B6EFF;\n  color: #0B6EFF;\n  background: rgba(11, 110, 255, 0.05);\n}\n.back-icon {\n  font-size: 1.25rem;\n}\n.lesson-title-section {\n  flex: 1;\n  min-width: 250px;\n}\n.lesson-title-section h1 {\n  font-size: 1.75rem;\n  font-weight: 800;\n  background:\n    linear-gradient(\n      135deg,\n      #0B6EFF,\n      #00C28A);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  margin-bottom: 0.5rem;\n}\n.lesson-meta {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n.meta-badge {\n  padding: 0.375rem 0.875rem;\n  border-radius: 10px;\n  font-size: 0.75rem;\n  font-weight: 700;\n  text-transform: capitalize;\n}\n.meta-badge.level-beginner {\n  background:\n    linear-gradient(\n      135deg,\n      #00C28A,\n      #00a574);\n  color: white;\n}\n.meta-badge.level-intermediate {\n  background:\n    linear-gradient(\n      135deg,\n      #0B6EFF,\n      #0a56cc);\n  color: white;\n}\n.meta-badge.level-advanced {\n  background:\n    linear-gradient(\n      135deg,\n      #FF6B35,\n      #e05a2b);\n  color: white;\n}\n.meta-badge.category {\n  background: #f8f9fa;\n  color: #6c757d;\n}\n.progress-badge {\n  background:\n    linear-gradient(\n      135deg,\n      #FFD700,\n      #FFA500);\n  color: white;\n}\n.action-buttons {\n  display: flex;\n  gap: 1rem;\n  align-items: center;\n}\n.action-btn {\n  padding: 0.75rem 1.25rem;\n  background: white;\n  border: 2px solid #e9ecef;\n  border-radius: 12px;\n  color: #6c757d;\n  font-size: 0.875rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n.action-btn:hover {\n  border-color: #0B6EFF;\n  color: #0B6EFF;\n  background: rgba(11, 110, 255, 0.05);\n}\n.speed-control {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  background: white;\n  padding: 0.5rem;\n  border-radius: 12px;\n  border: 2px solid #e9ecef;\n}\n.speed-control label {\n  font-size: 0.75rem;\n  font-weight: 700;\n  color: #6c757d;\n}\n.speed-btn {\n  padding: 0.5rem 0.875rem;\n  background: transparent;\n  border: 2px solid transparent;\n  border-radius: 8px;\n  color: #6c757d;\n  font-size: 0.75rem;\n  font-weight: 700;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n.speed-btn:hover {\n  background: rgba(11, 110, 255, 0.1);\n  color: #0B6EFF;\n}\n.speed-btn.active {\n  background:\n    linear-gradient(\n      135deg,\n      #0B6EFF,\n      #00C28A);\n  color: white;\n}\n.lesson-content {\n  max-width: 1400px;\n  margin: 0 auto;\n  padding: 0 1rem;\n  display: grid;\n  grid-template-columns: 1.2fr 1fr;\n  gap: 2rem;\n}\n.video-panel {\n  background: white;\n  border-radius: 20px;\n  padding: 1.5rem;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\n}\n.video-container {\n  position: relative;\n  padding-bottom: 56.25%;\n  height: 0;\n  overflow: hidden;\n  border-radius: 16px;\n  background: #000;\n}\n.video-container iframe {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.local-video {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  background: #000;\n}\n.video-info {\n  margin-top: 1.5rem;\n}\n.info-tip {\n  display: flex;\n  gap: 1rem;\n  padding: 1rem;\n  background:\n    linear-gradient(\n      135deg,\n      rgba(11, 110, 255, 0.05),\n      rgba(0, 194, 138, 0.05));\n  border-radius: 12px;\n  border-left: 4px solid #0B6EFF;\n}\n.tip-icon {\n  font-size: 1.5rem;\n  flex-shrink: 0;\n}\n.info-tip p {\n  font-size: 0.875rem;\n  color: #6c757d;\n  line-height: 1.6;\n  margin: 0;\n}\n.interactive-panel {\n  background: white;\n  border-radius: 20px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  max-height: 800px;\n}\n.tab-navigation {\n  display: flex;\n  background: #f8f9fa;\n  padding: 0.5rem;\n  gap: 0.5rem;\n}\n.tab-btn {\n  flex: 1;\n  padding: 0.875rem;\n  background: transparent;\n  border: none;\n  border-radius: 10px;\n  color: #6c757d;\n  font-size: 0.875rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n}\n.tab-btn:hover {\n  background: white;\n  color: #0B6EFF;\n}\n.tab-btn.active {\n  background:\n    linear-gradient(\n      135deg,\n      #0B6EFF,\n      #00C28A);\n  color: white;\n  box-shadow: 0 4px 15px rgba(11, 110, 255, 0.3);\n}\n.tab-icon {\n  font-size: 1.125rem;\n}\n.tab-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 1.5rem;\n}\n.transcript-header,\n.vocabulary-header,\n.grammar-header {\n  margin-bottom: 1.5rem;\n  padding-bottom: 1rem;\n  border-bottom: 2px solid #f8f9fa;\n}\n.transcript-header h3,\n.vocabulary-header h3,\n.grammar-header h3 {\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: #0f1724;\n  margin-bottom: 0.25rem;\n}\n.subtitle {\n  font-size: 0.875rem;\n  color: #6c757d;\n  margin: 0;\n}\n.dialogue-list {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n.dialogue-line {\n  padding: 1.25rem;\n  background: #f8f9fa;\n  border-radius: 12px;\n  border-left: 4px solid transparent;\n  transition: all 0.3s ease;\n}\n.dialogue-line:hover {\n  background: white;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n  border-left-color: #0B6EFF;\n}\n.dialogue-line.active {\n  background:\n    linear-gradient(\n      135deg,\n      rgba(11, 110, 255, 0.1),\n      rgba(0, 194, 138, 0.1));\n  border-left-color: #00C28A;\n  box-shadow: 0 4px 15px rgba(11, 110, 255, 0.2);\n}\n.dialogue-line.completed {\n  border-left-color: #00C28A;\n}\n.dialogue-line.bookmarked {\n  background:\n    linear-gradient(\n      135deg,\n      rgba(255, 215, 0, 0.1),\n      rgba(255, 165, 0, 0.1));\n  border-left-color: #FFD700;\n}\n.line-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.75rem;\n}\n.speaker-info {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.speaker-avatar {\n  width: 36px;\n  height: 36px;\n  background:\n    linear-gradient(\n      135deg,\n      #0B6EFF,\n      #00C28A);\n  color: white;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 700;\n  font-size: 0.875rem;\n}\n.speaker-name {\n  font-size: 0.875rem;\n  font-weight: 700;\n  color: #0f1724;\n}\n.line-actions {\n  display: flex;\n  gap: 0.5rem;\n}\n.action-icon-btn {\n  width: 32px;\n  height: 32px;\n  background: white;\n  border: 2px solid #e9ecef;\n  border-radius: 8px;\n  color: #6c757d;\n  font-size: 0.875rem;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s ease;\n}\n.action-icon-btn:hover {\n  border-color: #0B6EFF;\n  color: #0B6EFF;\n  background: rgba(11, 110, 255, 0.05);\n  transform: scale(1.05);\n}\n.action-icon-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.bookmark-btn.active {\n  background:\n    linear-gradient(\n      135deg,\n      #FFD700,\n      #FFA500);\n  border-color: transparent;\n  color: white;\n}\n.record-btn.recording {\n  background: #ff3b30;\n  border-color: #ff3b30;\n  color: white;\n  animation: pulse 1s infinite;\n}\n@keyframes pulse {\n  0%, 100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.1);\n  }\n}\n.line-content {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 1rem;\n}\n.line-text {\n  flex: 1;\n  font-size: 0.9375rem;\n  color: #0f1724;\n  line-height: 1.6;\n  margin: 0;\n}\n.timestamp {\n  font-size: 0.75rem;\n  color: #adb5bd;\n  font-weight: 600;\n  padding: 0.25rem 0.5rem;\n  background: white;\n  border-radius: 6px;\n  white-space: nowrap;\n}\n.pronunciation-feedback {\n  margin-top: 1rem;\n  padding: 1rem;\n  background: white;\n  border-radius: 10px;\n  border: 2px solid #e9ecef;\n}\n.feedback-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n}\n.feedback-label {\n  font-size: 0.75rem;\n  font-weight: 700;\n  color: #6c757d;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n.score {\n  padding: 0.25rem 0.75rem;\n  border-radius: 8px;\n  font-size: 0.75rem;\n  font-weight: 700;\n}\n.score.good {\n  background:\n    linear-gradient(\n      135deg,\n      #00C28A,\n      #00a574);\n  color: white;\n}\n.score.needs-work {\n  background:\n    linear-gradient(\n      135deg,\n      #FF6B35,\n      #e05a2b);\n  color: white;\n}\n.recognized-text {\n  font-size: 0.875rem;\n  color: #0f1724;\n  font-style: italic;\n  margin: 0;\n}\n.vocabulary-list {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n.vocabulary-card {\n  padding: 1.25rem;\n  background: #f8f9fa;\n  border-radius: 12px;\n  border-left: 4px solid #0B6EFF;\n  transition: all 0.3s ease;\n}\n.vocabulary-card:hover {\n  background: white;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n}\n.vocab-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.75rem;\n}\n.vocab-word {\n  font-size: 1.125rem;\n  font-weight: 700;\n  color: #0B6EFF;\n  margin: 0;\n}\n.vocab-meaning,\n.vocab-example {\n  font-size: 0.875rem;\n  color: #495057;\n  line-height: 1.6;\n  margin: 0.5rem 0 0 0;\n}\n.label {\n  font-weight: 700;\n  color: #6c757d;\n}\n.vocab-example em {\n  color: #0f1724;\n}\n.grammar-list {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n.grammar-card {\n  position: relative;\n  padding: 1.5rem;\n  padding-left: 4rem;\n  background: #f8f9fa;\n  border-radius: 12px;\n  transition: all 0.3s ease;\n}\n.grammar-card:hover {\n  background: white;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n}\n.grammar-number {\n  position: absolute;\n  left: 1.5rem;\n  top: 1.5rem;\n  width: 36px;\n  height: 36px;\n  background:\n    linear-gradient(\n      135deg,\n      #0B6EFF,\n      #00C28A);\n  color: white;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 700;\n  font-size: 1rem;\n}\n.grammar-title {\n  font-size: 1.125rem;\n  font-weight: 700;\n  color: #0f1724;\n  margin-bottom: 0.75rem;\n}\n.grammar-explanation {\n  font-size: 0.875rem;\n  color: #6c757d;\n  line-height: 1.6;\n  margin-bottom: 1rem;\n}\n.grammar-examples {\n  padding: 1rem;\n  background: white;\n  border-radius: 10px;\n  border-left: 3px solid #00C28A;\n}\n.examples-label {\n  display: block;\n  font-size: 0.75rem;\n  font-weight: 700;\n  color: #6c757d;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  margin-bottom: 0.75rem;\n}\n.grammar-examples ul {\n  margin: 0;\n  padding-left: 1.25rem;\n}\n.grammar-examples li {\n  font-size: 0.875rem;\n  color: #0f1724;\n  line-height: 1.8;\n  margin-bottom: 0.5rem;\n}\n.progress-section {\n  max-width: 1400px;\n  margin: 2rem auto 0;\n  padding: 0 1rem;\n}\n.progress-info {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.75rem;\n}\n.progress-label {\n  font-size: 0.875rem;\n  font-weight: 700;\n  color: #6c757d;\n}\n.progress-text {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: #0f1724;\n}\n.progress-bar {\n  height: 12px;\n  background: #e9ecef;\n  border-radius: 10px;\n  overflow: hidden;\n}\n.progress-fill {\n  height: 100%;\n  background:\n    linear-gradient(\n      90deg,\n      #0B6EFF,\n      #00C28A);\n  border-radius: 10px;\n  transition: width 0.5s ease;\n}\n.loading-state {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n}\n.spinner {\n  width: 50px;\n  height: 50px;\n  border: 4px solid #e9ecef;\n  border-top-color: #0B6EFF;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n.loading-state p {\n  font-size: 1rem;\n  color: #6c757d;\n  font-weight: 600;\n}\n@media (max-width: 1024px) {\n  .lesson-content {\n    grid-template-columns: 1fr;\n  }\n  .interactive-panel {\n    max-height: 600px;\n  }\n}\n@media (max-width: 768px) {\n  .lesson-header {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n  .action-buttons {\n    width: 100%;\n    flex-wrap: wrap;\n  }\n  .action-btn,\n  .speed-control {\n    flex: 1;\n  }\n  .lesson-title-section h1 {\n    font-size: 1.5rem;\n  }\n  .speaker-info {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 0.5rem;\n  }\n}\n@media (max-width: 480px) {\n  .lesson-header {\n    padding: 0 0.75rem;\n  }\n  .video-panel,\n  .interactive-panel {\n    padding: 1rem;\n  }\n  .dialogue-line {\n    padding: 1rem;\n  }\n  .line-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 0.75rem;\n  }\n  .tab-btn {\n    font-size: 0.75rem;\n    padding: 0.75rem 0.5rem;\n  }\n  .tab-icon {\n    font-size: 1rem;\n  }\n}\n.ai-coach-btn {\n  background:\n    linear-gradient(\n      135deg,\n      #8B5CF6,\n      #6D28D9) !important;\n  color: white !important;\n  border: none !important;\n}\n.ai-coach-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 20px rgba(139, 92, 246, 0.3);\n}\n.mentor-btn {\n  background:\n    linear-gradient(\n      135deg,\n      #00C28A,\n      #00a574) !important;\n  color: white !important;\n  border: none !important;\n}\n.mentor-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 20px rgba(0, 194, 138, 0.3);\n}\n.side-panel {\n  position: fixed;\n  top: 0;\n  right: -500px;\n  width: 500px;\n  height: 100vh;\n  background: white;\n  box-shadow: -4px 0 20px rgba(0, 0, 0, 0.1);\n  transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  z-index: 1000;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.side-panel.open {\n  right: 0;\n}\n.panel-header {\n  padding: 1.5rem;\n  background:\n    linear-gradient(\n      135deg,\n      #0B6EFF,\n      #00C28A);\n  color: white;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n}\n.panel-header h3 {\n  margin: 0;\n  font-size: 1.25rem;\n  font-weight: 700;\n}\n.close-btn {\n  background: rgba(255, 255, 255, 0.2);\n  border: none;\n  color: white;\n  font-size: 1.5rem;\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.close-btn:hover {\n  background: rgba(255, 255, 255, 0.3);\n  transform: rotate(90deg);\n}\n.panel-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 1.5rem;\n}\n.ai-coach-panel .panel-header {\n  background:\n    linear-gradient(\n      135deg,\n      #8B5CF6,\n      #6D28D9);\n}\n.overall-score-card {\n  text-align: center;\n  padding: 2rem;\n  background:\n    linear-gradient(\n      135deg,\n      #f8f9fa,\n      #ffffff);\n  border-radius: 16px;\n  margin-bottom: 1.5rem;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n}\n.score-circle {\n  width: 120px;\n  height: 120px;\n  border-radius: 50%;\n  margin: 0 auto 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 2.5rem;\n  font-weight: 800;\n  background:\n    linear-gradient(\n      135deg,\n      #e9ecef,\n      #f8f9fa);\n  color: #6c757d;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  position: relative;\n}\n.score-circle.excellent {\n  background:\n    linear-gradient(\n      135deg,\n      #00C28A,\n      #00a574);\n  color: white;\n  animation: pulse 2s infinite;\n}\n.score-circle.good {\n  background:\n    linear-gradient(\n      135deg,\n      #0B6EFF,\n      #0a56cc);\n  color: white;\n}\n.score-circle.needs-work {\n  background:\n    linear-gradient(\n      135deg,\n      #FFA500,\n      #FF8C00);\n  color: white;\n}\n@keyframes pulse {\n  0%, 100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.05);\n  }\n}\n.score-number {\n  font-size: 3rem;\n}\n.score-suffix {\n  font-size: 1.5rem;\n  margin-left: 0.25rem;\n}\n.overall-feedback {\n  margin: 0;\n  font-size: 1rem;\n  color: #495057;\n  font-weight: 600;\n}\n.feedback-sections {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n.feedback-card {\n  background: white;\n  border-radius: 12px;\n  padding: 1.25rem;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  border: 1px solid #e9ecef;\n  transition: all 0.3s ease;\n}\n.feedback-card:hover {\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);\n  transform: translateY(-2px);\n}\n.feedback-card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n  padding-bottom: 0.75rem;\n  border-bottom: 2px solid #f8f9fa;\n}\n.feedback-card-header h4 {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 700;\n  color: #212529;\n}\n.score-badge {\n  padding: 0.375rem 0.875rem;\n  border-radius: 20px;\n  font-size: 0.875rem;\n  font-weight: 700;\n  background:\n    linear-gradient(\n      135deg,\n      #e9ecef,\n      #dee2e6);\n  color: #6c757d;\n}\n.score-badge.good {\n  background:\n    linear-gradient(\n      135deg,\n      #00C28A,\n      #00a574);\n  color: white;\n}\n.feedback-content {\n  font-size: 0.875rem;\n  color: #495057;\n  line-height: 1.6;\n}\n.section-label {\n  font-weight: 700;\n  color: #212529;\n  margin-bottom: 0.5rem;\n}\n.errors-section ul,\n.suggestions-section ul,\n.corrections-section ul {\n  margin: 0.5rem 0 0;\n  padding-left: 1.25rem;\n}\n.errors-section li,\n.suggestions-section li,\n.corrections-section li {\n  margin-bottom: 0.5rem;\n  color: #495057;\n}\n.practice-history {\n  margin-top: 1.5rem;\n  padding: 1.25rem;\n  background: #f8f9fa;\n  border-radius: 12px;\n}\n.practice-history h4 {\n  margin: 0 0 1rem;\n  font-size: 1rem;\n  font-weight: 700;\n  color: #212529;\n}\n.history-list {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.history-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem;\n  background: white;\n  border-radius: 8px;\n  font-size: 0.875rem;\n}\n.practice-time {\n  color: #6c757d;\n}\n.practice-score {\n  font-weight: 700;\n  padding: 0.25rem 0.75rem;\n  border-radius: 12px;\n  background: #e9ecef;\n  color: #6c757d;\n}\n.practice-score.good {\n  background:\n    linear-gradient(\n      135deg,\n      #00C28A,\n      #00a574);\n  color: white;\n}\n.panel-actions {\n  margin-top: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.primary-btn,\n.secondary-btn {\n  width: 100%;\n  padding: 1rem;\n  border-radius: 12px;\n  font-size: 1rem;\n  font-weight: 700;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  border: none;\n}\n.primary-btn {\n  background:\n    linear-gradient(\n      135deg,\n      #0B6EFF,\n      #00C28A);\n  color: white;\n}\n.primary-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 20px rgba(11, 110, 255, 0.3);\n}\n.secondary-btn {\n  background: white;\n  color: #0B6EFF;\n  border: 2px solid #0B6EFF;\n}\n.secondary-btn:hover {\n  background: rgba(11, 110, 255, 0.05);\n  transform: translateY(-2px);\n}\n.analyzing {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 400px;\n}\n.analyzing-animation {\n  text-align: center;\n}\n.analyzing-animation .spinner {\n  width: 60px;\n  height: 60px;\n  border: 4px solid #f8f9fa;\n  border-top-color: #8B5CF6;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin: 0 auto 1rem;\n}\n.analyzing-animation p {\n  color: #6c757d;\n  font-size: 1rem;\n  font-weight: 600;\n}\n.empty-state {\n  text-align: center;\n  padding: 3rem 2rem;\n}\n.empty-icon {\n  font-size: 4rem;\n  display: block;\n  margin-bottom: 1rem;\n}\n.empty-state h4 {\n  margin: 0 0 0.75rem;\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: #212529;\n}\n.empty-state p {\n  margin: 0;\n  color: #6c757d;\n  line-height: 1.6;\n}\n.mentor-panel .panel-header {\n  background:\n    linear-gradient(\n      135deg,\n      #00C28A,\n      #00a574);\n}\n.mentor-intro {\n  margin-bottom: 1.5rem;\n  padding: 1.25rem;\n  background:\n    linear-gradient(\n      135deg,\n      #f8f9fa,\n      #ffffff);\n  border-radius: 12px;\n}\n.mentor-intro p {\n  margin: 0 0 1rem;\n  color: #495057;\n  font-weight: 600;\n}\n.mentor-benefits {\n  margin: 0;\n  padding-left: 1.25rem;\n}\n.mentor-benefits li {\n  margin-bottom: 0.5rem;\n  color: #495057;\n  line-height: 1.6;\n}\n.mentor-sessions-list h4 {\n  margin: 0 0 1rem;\n  font-size: 1.125rem;\n  font-weight: 700;\n  color: #212529;\n}\n.mentor-card {\n  background: white;\n  border-radius: 16px;\n  padding: 1.5rem;\n  margin-bottom: 1.5rem;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n  border: 1px solid #e9ecef;\n  transition: all 0.3s ease;\n}\n.mentor-card:hover {\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);\n  transform: translateY(-4px);\n}\n.mentor-profile {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin-bottom: 1.25rem;\n  padding-bottom: 1.25rem;\n  border-bottom: 2px solid #f8f9fa;\n}\n.mentor-avatar {\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  object-fit: cover;\n  border: 3px solid #00C28A;\n}\n.mentor-info h5 {\n  margin: 0 0 0.375rem;\n  font-size: 1.125rem;\n  font-weight: 700;\n  color: #212529;\n}\n.mentor-rating {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.875rem;\n}\n.stars {\n  color: #FFD700;\n  font-weight: 700;\n}\n.review-count {\n  color: #6c757d;\n}\n.session-details {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  margin-bottom: 1rem;\n}\n.detail-row {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  font-size: 0.875rem;\n  color: #495057;\n}\n.detail-icon {\n  font-size: 1.125rem;\n}\n.price {\n  font-weight: 700;\n  font-size: 1.125rem;\n  color: #00C28A;\n}\n.session-topics {\n  margin-bottom: 1.25rem;\n}\n.topics-label {\n  margin: 0 0 0.5rem;\n  font-size: 0.875rem;\n  font-weight: 700;\n  color: #212529;\n}\n.topics-tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n.topic-tag {\n  padding: 0.375rem 0.75rem;\n  background:\n    linear-gradient(\n      135deg,\n      #e9ecef,\n      #dee2e6);\n  color: #495057;\n  border-radius: 20px;\n  font-size: 0.75rem;\n  font-weight: 600;\n}\n.book-btn {\n  width: 100%;\n  padding: 1rem;\n  background:\n    linear-gradient(\n      135deg,\n      #00C28A,\n      #00a574);\n  color: white;\n  border: none;\n  border-radius: 12px;\n  font-size: 1rem;\n  font-weight: 700;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n.book-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 20px rgba(0, 194, 138, 0.3);\n}\n@media (max-width: 768px) {\n  .side-panel {\n    width: 100%;\n    right: -100%;\n  }\n  .side-panel.open {\n    right: 0;\n  }\n}\n@media (max-width: 480px) {\n  .panel-header {\n    padding: 1rem;\n  }\n  .panel-content {\n    padding: 1rem;\n  }\n  .overall-score-card {\n    padding: 1.5rem;\n  }\n  .score-circle {\n    width: 100px;\n    height: 100px;\n  }\n  .score-number {\n    font-size: 2.5rem;\n  }\n  .mentor-card {\n    padding: 1rem;\n  }\n}\n/*# sourceMappingURL=lesson-detail.component.css.map */\n", "import { Component, OnInit, OnDestroy, signal } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\nimport { ToastService } from '../../core/services/toast.service';\n\ninterface DialogueLine {\n  id: number;\n  speaker: string;\n  text: string;\n  timestamp: number;\n  audioUrl?: string;\n}\n\ninterface VocabularyItem {\n  word: string;\n  meaning: string;\n  example: string;\n  audioUrl?: string;\n}\n\ninterface GrammarPoint {\n  title: string;\n  explanation: string;\n  examples: string[];\n}\n\ninterface AIFeedback {\n  overallScore: number;\n  pronunciation: {\n    score: number;\n    errors: string[];\n    suggestions: string[];\n  };\n  grammar: {\n    score: number;\n    errors: string[];\n    corrections: string[];\n  };\n  fluency: {\n    score: number;\n    feedback: string;\n  };\n  accent: {\n    score: number;\n    tips: string[];\n  };\n}\n\ninterface MentorSession {\n  id: string;\n  mentorName: string;\n  mentorPhoto: string;\n  date: string;\n  time: string;\n  duration: string;\n  availableSlots: number;\n  price: number;\n  topics: string[];\n  rating: number;\n}\n\ninterface LessonData {\n  id: string;\n  title: string;\n  videoId: string;\n  level: string;\n  category: string;\n  thumbnail: string;\n  dialogue: DialogueLine[];\n  vocabulary: VocabularyItem[];\n  grammar: GrammarPoint[];\n}\n\n@Component({\n  selector: 'app-lesson-detail',\n  standalone: false,\n  templateUrl: './lesson-detail.component.html',\n  styleUrls: ['./lesson-detail.component.css']\n})\nexport class LessonDetailComponent implements OnInit, OnDestroy {\n  lessonId: string = '';\n  lessonData: LessonData | null = null;\n  videoUrl: SafeResourceUrl | null = null;\n  \n  // Signals for reactive state\n  currentLineId = signal<number | null>(null);\n  isPlaying = signal(false);\n  playbackSpeed = signal(1);\n  showTranscript = signal(true);\n  showVocabulary = signal(true);\n  showGrammar = signal(true);\n  currentTab = signal<'transcript' | 'vocabulary' | 'grammar'>('transcript');\n  \n  // Speech recognition\n  isRecording = signal(false);\n  recognizedText = signal('');\n  pronunciationScore = signal<number | null>(null);\n  \n  // Progress tracking\n  completedLines = signal<Set<number>>(new Set());\n  bookmarkedLines = signal<Set<number>>(new Set());\n  \n  // AI Coach Integration\n  aiFeedback = signal<AIFeedback | null>(null);\n  isAnalyzing = signal(false);\n  practiceHistory = signal<Array<{lineId: number; text: string; score: number; timestamp: Date}>>([]);\n  showAIPanel = signal(false);\n  \n  // Live Mentor Sessions\n  mentorSessions = signal<MentorSession[]>([]);\n  showMentorPanel = signal(false);\n  selectedMentorSession = signal<MentorSession | null>(null);\n\n  private lessons: { [key: string]: LessonData } = {\n    'cafe-conversation': {\n      id: 'cafe-conversation',\n      title: 'Coffee Shop Conversation',\n      videoId: '_ldiu5OiA9g',\n      level: 'beginner',\n      category: 'daily',\n      thumbnail: 'https://images.unsplash.com/photo-1511920170033-f8396924c348?w=800&q=80',\n      dialogue: [\n        { id: 1, speaker: 'Priya', text: 'Hey, are you ready to order?', timestamp: 0 },\n        { id: 2, speaker: 'Arjun', text: 'Hi! Yes, can I have a cappuccino?', timestamp: 3 },\n        { id: 3, speaker: 'Priya', text: 'Sure! Would you like anything else with that?', timestamp: 6 },\n        { id: 4, speaker: 'Arjun', text: 'Uh, try the coffee cake. It\\'s delicious!', timestamp: 10 },\n        { id: 5, speaker: 'Priya', text: 'Oh thanks! Why not? And some coffee cake please.', timestamp: 14 },\n        { id: 6, speaker: 'Kavya', text: 'Hey, are you studying here too?', timestamp: 20 },\n        { id: 7, speaker: 'Arjun', text: 'Yes, I am! So where are you from?', timestamp: 23 },\n        { id: 8, speaker: 'Kavya', text: 'I\\'m from Mumbai. Wow, that\\'s so cool!', timestamp: 27 },\n        { id: 9, speaker: 'Arjun', text: 'Thanks! What about you? Where are you from?', timestamp: 31 },\n        { id: 10, speaker: 'Kavya', text: 'I\\'m from Delhi. Oh, that\\'s far!', timestamp: 35 },\n        { id: 11, speaker: 'Arjun', text: 'Yes it is, but I\\'ve met a lot of international students at our college.', timestamp: 39 },\n        { id: 12, speaker: 'Kavya', text: 'Oh me too! I met someone from Bangalore yesterday.', timestamp: 45 },\n        { id: 13, speaker: 'Arjun', text: 'It\\'s great to be in such an international place!', timestamp: 50 },\n        { id: 14, speaker: 'Priya', text: 'Excuse me, I\\'ll bring you a cappuccino and coffee cake over to your table when they\\'re ready.', timestamp: 55 },\n        { id: 15, speaker: 'Arjun', text: 'Oh great, thank you!', timestamp: 62 },\n        { id: 16, speaker: 'Priya', text: 'Along with your check.', timestamp: 65 }\n      ],\n      vocabulary: [\n        { word: 'cappuccino', meaning: 'A type of coffee with steamed milk and foam', example: 'I ordered a cappuccino at the café.' },\n        { word: 'delicious', meaning: 'Very tasty or pleasant to eat', example: 'This cake is absolutely delicious!' },\n        { word: 'international', meaning: 'Involving different countries or cultures', example: 'Our college has many international students.' },\n        { word: 'excuse me', meaning: 'Polite phrase to get attention or apologize', example: 'Excuse me, could you help me?' },\n        { word: 'ready', meaning: 'Prepared or willing to do something', example: 'Are you ready to order now?' },\n        { word: 'order', meaning: 'To request food or items to be brought', example: 'Can I take your order, please?' },\n        { word: 'college', meaning: 'Educational institution after high school', example: 'I study engineering at college.' },\n        { word: 'table', meaning: 'Furniture with flat top for eating or working', example: 'Please sit at that table.' },\n        { word: 'check', meaning: 'Bill showing money owed for services', example: 'Can I have the check, please?' },\n        { word: 'met', meaning: 'Past tense of meet; to come together', example: 'I met a new friend yesterday.' },\n        { word: 'cool', meaning: 'Informal word meaning great or impressive', example: 'That\\'s so cool!' },\n        { word: 'studying', meaning: 'Learning or examining subjects', example: 'I\\'m studying English at the library.' }\n      ],\n      grammar: [\n        {\n          title: 'Present Continuous for Current Actions',\n          explanation: 'Use \"am/is/are + verb-ing\" to describe actions happening now.',\n          examples: [\n            'Are you studying here? (happening now)',\n            'I\\'m studying English. (current activity)',\n            'They are waiting for coffee. (in progress)'\n          ]\n        },\n        {\n          title: 'Polite Requests with \"Can I\" and \"Would you\"',\n          explanation: 'Use these phrases to ask for things politely.',\n          examples: [\n            'Can I have a cappuccino?',\n            'Would you like anything else?',\n            'Can I take your order?'\n          ]\n        },\n        {\n          title: 'Question Formation with \"Where\"',\n          explanation: 'Use \"Where + auxiliary verb + subject\" to ask about locations.',\n          examples: [\n            'Where are you from?',\n            'Where do you study?',\n            'Where is the café?'\n          ]\n        },\n        {\n          title: 'Present Perfect \"I\\'ve met\"',\n          explanation: 'Use \"have/has + past participle\" for experiences up to now.',\n          examples: [\n            'I\\'ve met many students. (life experience)',\n            'She has visited three countries.',\n            'We\\'ve studied together before.'\n          ]\n        }\n      ]\n    },\n    'museum-directions': {\n      id: 'museum-directions',\n      title: 'Asking for Directions',\n      videoId: 'yRM4wsXQ5KI',\n      level: 'beginner',\n      category: 'travel',\n      thumbnail: 'https://images.unsplash.com/photo-1555421689-d68471e189f2?w=800&q=80',\n      dialogue: [\n        { id: 1, speaker: 'Shopkeeper', text: 'Hi there! Can I help you find something?', timestamp: 0 },\n        { id: 2, speaker: 'Rohan', text: 'Hi! I want to go to the Museum of Modern Art, but I\\'m lost.', timestamp: 4 },\n        { id: 3, speaker: 'Rohan', text: 'And my phone battery just died.', timestamp: 9 },\n        { id: 4, speaker: 'Shopkeeper', text: 'Don\\'t worry! I can give you directions.', timestamp: 12 },\n        { id: 5, speaker: 'Rohan', text: 'Thank you! I\\'m new to the city and I feel like I\\'ve been walking in circles.', timestamp: 15 },\n        { id: 6, speaker: 'Shopkeeper', text: 'So you\\'re here on the corner of 84th and 3rd. Okay, I see.', timestamp: 21 },\n        { id: 7, speaker: 'Shopkeeper', text: 'Go left onto 3rd and then walk two blocks.', timestamp: 27 },\n        { id: 8, speaker: 'Rohan', text: 'Okay, two blocks. I understand. Then what do I do?', timestamp: 32 },\n        { id: 9, speaker: 'Shopkeeper', text: 'And then at 82nd Street, turn right and walk four more blocks.', timestamp: 37 },\n        { id: 10, speaker: 'Rohan', text: 'Okay, four more blocks. Then what?', timestamp: 43 },\n        { id: 11, speaker: 'Shopkeeper', text: 'That\\'s all! The museum\\'s right there. You can\\'t mistake it.', timestamp: 47 },\n        { id: 12, speaker: 'Rohan', text: 'Thank you very much for your help!', timestamp: 52 },\n        { id: 13, speaker: 'Shopkeeper', text: 'No problem! Enjoy the museum!', timestamp: 55 },\n        { id: 14, speaker: 'Shopkeeper', text: 'And come back anytime if you want any souvenirs.', timestamp: 58 }\n      ],\n      vocabulary: [\n        { word: 'lost', meaning: 'Unable to find your way or location', example: 'I\\'m lost. Can you help me?' },\n        { word: 'directions', meaning: 'Instructions for reaching a place', example: 'Can you give me directions to the station?' },\n        { word: 'battery', meaning: 'Power source for electronic devices', example: 'My phone battery is dead.' },\n        { word: 'corner', meaning: 'Place where two streets meet', example: 'The shop is on the corner.' },\n        { word: 'blocks', meaning: 'Distance between streets in a city', example: 'Walk two blocks and turn left.' },\n        { word: 'turn', meaning: 'Change direction while moving', example: 'Turn right at the next street.' },\n        { word: 'museum', meaning: 'Building displaying art or history', example: 'Let\\'s visit the art museum today.' },\n        { word: 'souvenirs', meaning: 'Items bought as reminders of a place', example: 'I bought souvenirs for my family.' },\n        { word: 'circles', meaning: 'Round shapes; going in circles means lost', example: 'I\\'ve been walking in circles.' },\n        { word: 'mistake', meaning: 'Error; \"can\\'t mistake it\" means easy to find', example: 'You can\\'t mistake the big building.' }\n      ],\n      grammar: [\n        {\n          title: 'Imperative Sentences for Directions',\n          explanation: 'Use base verb form to give commands or instructions.',\n          examples: [\n            'Go left onto 3rd street.',\n            'Walk two blocks.',\n            'Turn right at the corner.'\n          ]\n        },\n        {\n          title: 'Present Continuous for Temporary Situations',\n          explanation: 'Use \"am/is/are + verb-ing\" for temporary states.',\n          examples: [\n            'I\\'m lost. (temporary state)',\n            'My battery is dying. (happening now)',\n            'I\\'m walking in circles. (current action)'\n          ]\n        },\n        {\n          title: 'Modal Verb \"Can\" for Ability and Offers',\n          explanation: 'Use \"can\" to express ability or make offers.',\n          examples: [\n            'Can I help you? (offer)',\n            'I can give you directions. (ability)',\n            'You can\\'t mistake it. (impossibility)'\n          ]\n        }\n      ]\n    },\n    'order-coffee': {\n      id: 'order-coffee',\n      title: 'Order a Coffee',\n      videoId: 'order-coffee-local',\n      level: 'beginner',\n      category: 'daily',\n      thumbnail: 'https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=800&q=80',\n      dialogue: [\n        { id: 1, speaker: 'Barista', text: 'Good morning! Welcome to Coffee House. What can I get for you today?', timestamp: 0 },\n        { id: 2, speaker: 'Priya', text: 'Good morning! I\\'d like a cappuccino, please.', timestamp: 4 },\n        { id: 3, speaker: 'Barista', text: 'Sure! What size would you like? Small, medium, or large?', timestamp: 7 },\n        { id: 4, speaker: 'Priya', text: 'I\\'ll have a medium, please.', timestamp: 11 },\n        { id: 5, speaker: 'Barista', text: 'Great choice! Would you like that hot or iced?', timestamp: 14 },\n        { id: 6, speaker: 'Priya', text: 'Hot, please. Can I also get a chocolate muffin?', timestamp: 17 },\n        { id: 7, speaker: 'Barista', text: 'Of course! Anything else?', timestamp: 21 },\n        { id: 8, speaker: 'Priya', text: 'No, that\\'s all. How much is it?', timestamp: 24 },\n        { id: 9, speaker: 'Barista', text: 'That will be ₹350 in total.', timestamp: 27 },\n        { id: 10, speaker: 'Priya', text: 'Here you go. Can I pay by card?', timestamp: 30 },\n        { id: 11, speaker: 'Barista', text: 'Yes, of course. You can tap your card here.', timestamp: 33 },\n        { id: 12, speaker: 'Priya', text: 'Perfect! Thank you so much!', timestamp: 36 }\n      ],\n      vocabulary: [\n        { word: 'cappuccino', meaning: 'Espresso coffee with steamed milk foam', example: 'I always order a cappuccino in the morning.' },\n        { word: 'size', meaning: 'How big or small something is', example: 'What size drink would you like?' },\n        { word: 'medium', meaning: 'Middle size, not too big or too small', example: 'I\\'ll have a medium coffee, please.' },\n        { word: 'iced', meaning: 'Cold drink with ice cubes', example: 'I prefer iced coffee in summer.' },\n        { word: 'muffin', meaning: 'Small sweet cake', example: 'The chocolate muffin looks delicious.' },\n        { word: 'total', meaning: 'Final amount after adding everything', example: 'The total cost is ₹350.' },\n        { word: 'tap', meaning: 'Touch lightly, especially for card payment', example: 'You can tap your card to pay.' },\n        { word: 'barista', meaning: 'Person who makes and serves coffee', example: 'The barista makes excellent coffee.' }\n      ],\n      grammar: [\n        {\n          title: 'Polite Requests with \"I\\'d like\" and \"Can I\"',\n          explanation: 'Use \"I\\'d like\" (I would like) for polite ordering and \"Can I\" to ask for things.',\n          examples: [\n            'I\\'d like a cappuccino, please.',\n            'Can I get a chocolate muffin?',\n            'Can I pay by card?'\n          ]\n        },\n        {\n          title: 'Size and Preference Questions',\n          explanation: 'Questions about size and preferences using \"would you like\".',\n          examples: [\n            'What size would you like?',\n            'Would you like that hot or iced?',\n            'Would you like anything else?'\n          ]\n        },\n        {\n          title: 'Question Words: \"How much\"',\n          explanation: 'Use \"How much\" to ask about price or cost.',\n          examples: [\n            'How much is it?',\n            'How much does it cost?',\n            'How much do I owe you?'\n          ]\n        }\n      ]\n    },\n    'buy-museum-ticket': {\n      id: 'buy-museum-ticket',\n      title: 'Buy a Museum Ticket',\n      videoId: 'buy-museum-ticket-local',\n      level: 'beginner',\n      category: 'travel',\n      thumbnail: 'https://images.unsplash.com/photo-1564399579883-451a5d44ec08?w=800&q=80',\n      dialogue: [\n        { id: 1, speaker: 'Attendant', text: 'Hello! Welcome to the National Museum. How may I help you?', timestamp: 0 },\n        { id: 2, speaker: 'Arjun', text: 'Hi! I\\'d like to buy a ticket for the museum, please.', timestamp: 4 },\n        { id: 3, speaker: 'Attendant', text: 'Certainly! Are you a student or an adult?', timestamp: 8 },\n        { id: 4, speaker: 'Arjun', text: 'I\\'m a student. Do you offer student discounts?', timestamp: 11 },\n        { id: 5, speaker: 'Attendant', text: 'Yes, we do! Student tickets are ₹200. Do you have your student ID?', timestamp: 15 },\n        { id: 6, speaker: 'Arjun', text: 'Yes, here it is. Can I also get an audio guide?', timestamp: 20 },\n        { id: 7, speaker: 'Attendant', text: 'Of course! The audio guide is ₹100 extra. What language would you prefer?', timestamp: 24 },\n        { id: 8, speaker: 'Arjun', text: 'English, please. Are there any special exhibitions today?', timestamp: 29 },\n        { id: 9, speaker: 'Attendant', text: 'Yes! We have an Indian art exhibition on the second floor.', timestamp: 33 },\n        { id: 10, speaker: 'Arjun', text: 'That sounds interesting! Is it included in the ticket price?', timestamp: 38 },\n        { id: 11, speaker: 'Attendant', text: 'Yes, it\\'s included. Your total is ₹300.', timestamp: 42 },\n        { id: 12, speaker: 'Arjun', text: 'Perfect! Here\\'s my card.', timestamp: 46 },\n        { id: 13, speaker: 'Attendant', text: 'Thank you. Here\\'s your ticket and audio guide. The museum closes at 6 PM.', timestamp: 49 },\n        { id: 14, speaker: 'Arjun', text: 'Thank you! What time does the last entry close?', timestamp: 54 },\n        { id: 15, speaker: 'Attendant', text: 'Last entry is at 5:30 PM. Enjoy your visit!', timestamp: 57 }\n      ],\n      vocabulary: [\n        { word: 'ticket', meaning: 'Paper or card that allows entry', example: 'I need to buy a ticket for the museum.' },\n        { word: 'student discount', meaning: 'Reduced price for students', example: 'Students get a 50% discount.' },\n        { word: 'audio guide', meaning: 'Device that plays information about exhibits', example: 'The audio guide explains each painting.' },\n        { word: 'exhibition', meaning: 'Public display of art or objects', example: 'There\\'s a special exhibition on modern art.' },\n        { word: 'included', meaning: 'Part of the package, no extra cost', example: 'Lunch is included in the tour price.' },\n        { word: 'attendant', meaning: 'Person who helps customers or visitors', example: 'The museum attendant was very helpful.' },\n        { word: 'entry', meaning: 'Act of entering or admission', example: 'Last entry is at 5 PM.' },\n        { word: 'floor', meaning: 'Level of a building', example: 'The exhibition is on the second floor.' },\n        { word: 'prefer', meaning: 'Like one thing more than another', example: 'Which language do you prefer?' },\n        { word: 'ID', meaning: 'Identification card', example: 'Please show your student ID.' },\n        { word: 'closes', meaning: 'Stops being open', example: 'The museum closes at 6 PM.' }\n      ],\n      grammar: [\n        {\n          title: 'Questions with \"Do you\" for Yes/No Answers',\n          explanation: 'Use \"Do you + verb\" to ask questions expecting yes or no.',\n          examples: [\n            'Do you offer student discounts?',\n            'Do you have your student ID?',\n            'Do you want an audio guide?'\n          ]\n        },\n        {\n          title: 'Modal \"Would\" for Preferences',\n          explanation: 'Use \"would\" to ask about preferences politely.',\n          examples: [\n            'What language would you prefer?',\n            'What would you like to see?',\n            'Would you like a map?'\n          ]\n        },\n        {\n          title: 'Present Simple for General Information',\n          explanation: 'Use present simple to state facts and schedules.',\n          examples: [\n            'The museum closes at 6 PM.',\n            'Last entry is at 5:30 PM.',\n            'Student tickets are ₹200.'\n          ]\n        },\n        {\n          title: 'Questions with \"Is there\" / \"Are there\"',\n          explanation: 'Use these to ask about existence of things.',\n          examples: [\n            'Are there any special exhibitions?',\n            'Is it included in the price?',\n            'Are there guided tours?'\n          ]\n        }\n      ]\n    },\n    'how-i-get-to-school': {\n      id: 'how-i-get-to-school',\n      title: 'How I Get to School',\n      videoId: 'how-i-get-to-school-local',\n      level: 'beginner',\n      category: 'daily',\n      thumbnail: 'https://images.unsplash.com/photo-1544717305-2782549b5136?w=800&q=80',\n      dialogue: [\n        { id: 1, speaker: 'Kavya', text: 'Hey Rohan! How do you usually get to school?', timestamp: 0 },\n        { id: 2, speaker: 'Rohan', text: 'Hi Kavya! I usually take the metro. It\\'s really convenient.', timestamp: 4 },\n        { id: 3, speaker: 'Kavya', text: 'Oh, that\\'s nice! How long does it take?', timestamp: 8 },\n        { id: 4, speaker: 'Rohan', text: 'It takes about 30 minutes from my home to the school station.', timestamp: 11 },\n        { id: 5, speaker: 'Kavya', text: 'That\\'s not bad! Do you walk to the metro station?', timestamp: 16 },\n        { id: 6, speaker: 'Rohan', text: 'Yes, it\\'s just a 10-minute walk from my house. What about you?', timestamp: 20 },\n        { id: 7, speaker: 'Kavya', text: 'I take the school bus. It picks me up at 7:30 AM every morning.', timestamp: 25 },\n        { id: 8, speaker: 'Rohan', text: 'That\\'s convenient! Do you have to wait long for the bus?', timestamp: 30 },\n        { id: 9, speaker: 'Kavya', text: 'No, it\\'s always on time. The journey takes about 40 minutes.', timestamp: 34 },\n        { id: 10, speaker: 'Rohan', text: 'Do you ever walk or cycle to school?', timestamp: 39 },\n        { id: 11, speaker: 'Kavya', text: 'Sometimes I cycle on weekends when I have extra classes.', timestamp: 43 },\n        { id: 12, speaker: 'Rohan', text: 'That\\'s great exercise! I should try cycling too.', timestamp: 48 },\n        { id: 13, speaker: 'Kavya', text: 'You should! It\\'s fun and healthy. Plus, you save money on transport!', timestamp: 52 }\n      ],\n      vocabulary: [\n        { word: 'usually', meaning: 'Most of the time, normally', example: 'I usually take the bus to school.' },\n        { word: 'metro', meaning: 'Underground train system', example: 'The metro is faster than buses.' },\n        { word: 'convenient', meaning: 'Easy to use or suitable', example: 'Online shopping is very convenient.' },\n        { word: 'takes', meaning: 'Requires a certain amount of time', example: 'It takes 20 minutes to walk there.' },\n        { word: 'station', meaning: 'Place where trains or buses stop', example: 'Meet me at the metro station.' },\n        { word: 'picks up', meaning: 'Collects someone in a vehicle', example: 'The bus picks me up at 8 AM.' },\n        { word: 'journey', meaning: 'Trip from one place to another', example: 'The journey was very comfortable.' },\n        { word: 'cycle', meaning: 'Ride a bicycle', example: 'I cycle to work every day.' },\n        { word: 'exercise', meaning: 'Physical activity for health', example: 'Walking is good exercise.' },\n        { word: 'transport', meaning: 'Way of traveling or moving', example: 'Public transport is affordable.' }\n      ],\n      grammar: [\n        {\n          title: 'Present Simple for Routines and Habits',\n          explanation: 'Use present simple to talk about regular activities and daily routines.',\n          examples: [\n            'I usually take the metro.',\n            'It takes 30 minutes.',\n            'The bus picks me up at 7:30.'\n          ]\n        },\n        {\n          title: 'Question Formation with \"How\"',\n          explanation: 'Use \"How\" to ask about methods, time, and manner.',\n          examples: [\n            'How do you get to school?',\n            'How long does it take?',\n            'How far is it?'\n          ]\n        },\n        {\n          title: 'Frequency Adverbs: \"usually\", \"always\", \"sometimes\"',\n          explanation: 'These words show how often something happens.',\n          examples: [\n            'I usually take the bus. (most times)',\n            'It\\'s always on time. (every time)',\n            'Sometimes I cycle. (occasionally)'\n          ]\n        }\n      ]\n    }\n  };\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private sanitizer: DomSanitizer,\n    private toastService: ToastService\n  ) {}\n\n  ngOnInit(): void {\n    this.route.params.subscribe(params => {\n      this.lessonId = params['id'];\n      this.loadLesson();\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.stopAllAudio();\n  }\n\n  loadLesson(): void {\n    this.lessonData = this.lessons[this.lessonId] || null;\n    if (this.lessonData) {\n      this.loadMentorSessions();\n      // Check if it's a local video or YouTube video\n      if (this.lessonData.videoId.includes('local')) {\n        // Use local video from assets folder\n        let videoFileName = '';\n        switch (this.lessonId) {\n          case 'order-coffee':\n            videoFileName = 'Order a coffee.mp4'; // Note: filename has leading space\n            break;\n          case 'buy-museum-ticket':\n            videoFileName = 'Buy a museum ticket.mp4';\n            break;\n          case 'how-i-get-to-school':\n            videoFileName = 'how I get to school.mp4';\n            break;\n        }\n        this.videoUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\n          `/${videoFileName}`\n        );\n      } else {\n        // Use YouTube embed\n        this.videoUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\n          `https://www.youtube.com/embed/${this.lessonData.videoId}?enablejsapi=1`\n        );\n      }\n    }\n  }\n\n  playLine(line: DialogueLine): void {\n    this.currentLineId.set(line.id);\n    \n    // Use Web Speech API for text-to-speech\n    if ('speechSynthesis' in window) {\n      const utterance = new SpeechSynthesisUtterance(line.text);\n      utterance.lang = 'en-US';\n      utterance.rate = this.playbackSpeed();\n      \n      // Set female voice\n      const voices = speechSynthesis.getVoices();\n      const femaleVoice = voices.find(voice => \n        voice.name.includes('Female') || \n        voice.name.includes('female') ||\n        voice.name.includes('Samantha') ||\n        voice.name.includes('Victoria')\n      );\n      if (femaleVoice) {\n        utterance.voice = femaleVoice;\n      }\n      \n      utterance.onend = () => {\n        this.currentLineId.set(null);\n        this.completedLines.update(lines => new Set([...lines, line.id]));\n      };\n      \n      speechSynthesis.cancel();\n      speechSynthesis.speak(utterance);\n    }\n  }\n\n  playVocabulary(word: VocabularyItem): void {\n    if ('speechSynthesis' in window) {\n      const utterance = new SpeechSynthesisUtterance(word.word);\n      utterance.lang = 'en-US';\n      utterance.rate = 0.8;\n      \n      const voices = speechSynthesis.getVoices();\n      const femaleVoice = voices.find(voice => \n        voice.name.includes('Female') || voice.name.includes('Samantha')\n      );\n      if (femaleVoice) {\n        utterance.voice = femaleVoice;\n      }\n      \n      speechSynthesis.cancel();\n      speechSynthesis.speak(utterance);\n    }\n  }\n\n  stopAllAudio(): void {\n    if ('speechSynthesis' in window) {\n      speechSynthesis.cancel();\n    }\n  }\n\n  toggleBookmark(lineId: number): void {\n    this.bookmarkedLines.update(lines => {\n      const newSet = new Set(lines);\n      if (newSet.has(lineId)) {\n        newSet.delete(lineId);\n      } else {\n        newSet.add(lineId);\n      }\n      return newSet;\n    });\n  }\n\n  setPlaybackSpeed(speed: number): void {\n    this.playbackSpeed.set(speed);\n  }\n\n  switchTab(tab: 'transcript' | 'vocabulary' | 'grammar'): void {\n    this.currentTab.set(tab);\n  }\n\n  startRecording(line: DialogueLine): void {\n    if (!('webkitSpeechRecognition' in window)) {\n      this.toastService.error('Speech recognition not supported in this browser');\n      return;\n    }\n\n    const recognition = new (window as any).webkitSpeechRecognition();\n    recognition.lang = 'en-US';\n    recognition.continuous = false;\n    recognition.interimResults = false;\n\n    this.isRecording.set(true);\n    this.recognizedText.set('');\n\n    recognition.onresult = (event: any) => {\n      const transcript = event.results[0][0].transcript;\n      this.recognizedText.set(transcript);\n      const score = this.calculatePronunciationScore(line.text, transcript);\n      \n      // Add to practice history\n      this.practiceHistory.update(history => [\n        ...history,\n        { lineId: line.id, text: transcript, score, timestamp: new Date() }\n      ]);\n      \n      // Generate AI feedback\n      this.generateAIFeedback(line.text, transcript, score);\n      this.isRecording.set(false);\n    };\n\n    recognition.onerror = () => {\n      this.isRecording.set(false);\n      this.toastService.error('Error in speech recognition. Please try again.');\n    };\n\n    recognition.onend = () => {\n      this.isRecording.set(false);\n    };\n\n    recognition.start();\n  }\n\n  calculatePronunciationScore(original: string, spoken: string): number {\n    const originalWords = original.toLowerCase().split(/\\s+/);\n    const spokenWords = spoken.toLowerCase().split(/\\s+/);\n    \n    let matches = 0;\n    for (const word of spokenWords) {\n      if (originalWords.includes(word)) {\n        matches++;\n      }\n    }\n    \n    const score = Math.round((matches / originalWords.length) * 100);\n    this.pronunciationScore.set(Math.min(score, 100));\n    return Math.min(score, 100);\n  }\n\n  getProgressPercentage(): number {\n    if (!this.lessonData) return 0;\n    return Math.round((this.completedLines().size / this.lessonData.dialogue.length) * 100);\n  }\n\n  goBack(): void {\n    this.router.navigate(['/learning']);\n  }\n\n  downloadTranscript(): void {\n    if (!this.lessonData) return;\n    \n    let content = `${this.lessonData.title}\\n\\n`;\n    content += 'TRANSCRIPT:\\n\\n';\n    \n    this.lessonData.dialogue.forEach(line => {\n      content += `${line.speaker}: ${line.text}\\n`;\n    });\n    \n    content += '\\n\\nVOCABULARY:\\n\\n';\n    this.lessonData.vocabulary.forEach(item => {\n      content += `${item.word}: ${item.meaning}\\n`;\n      content += `Example: ${item.example}\\n\\n`;\n    });\n    \n    const blob = new Blob([content], { type: 'text/plain' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${this.lessonData.id}-transcript.txt`;\n    a.click();\n  }\n\n  // AI Coach Methods\n  generateAIFeedback(original: string, spoken: string, score: number): void {\n    this.isAnalyzing.set(true);\n    \n    // Simulate AI analysis (replace with actual AI API call)\n    setTimeout(() => {\n      const originalWords = original.toLowerCase().split(/\\s+/);\n      const spokenWords = spoken.toLowerCase().split(/\\s+/);\n      \n      // Find pronunciation errors\n      const pronunciationErrors: string[] = [];\n      const missedWords = originalWords.filter(word => !spokenWords.includes(word));\n      if (missedWords.length > 0) {\n        pronunciationErrors.push(`Missed words: ${missedWords.join(', ')}`);\n      }\n      \n      // Check grammar (basic analysis)\n      const grammarErrors: string[] = [];\n      const corrections: string[] = [];\n      if (!spoken.match(/^[A-Z]/)) {\n        grammarErrors.push('Sentence should start with a capital letter');\n        corrections.push('Always begin sentences with uppercase');\n      }\n      if (!spoken.match(/[.!?]$/)) {\n        grammarErrors.push('Missing punctuation at the end');\n      }\n      \n      // Fluency analysis\n      const wordCount = spokenWords.length;\n      const fluencyScore = Math.min(100, (wordCount / originalWords.length) * 100);\n      let fluencyFeedback = '';\n      if (fluencyScore >= 90) {\n        fluencyFeedback = 'Excellent fluency! You spoke naturally and smoothly.';\n      } else if (fluencyScore >= 70) {\n        fluencyFeedback = 'Good fluency, but try to speak more smoothly without long pauses.';\n      } else {\n        fluencyFeedback = 'Practice more to improve fluency. Try speaking the sentence multiple times.';\n      }\n      \n      // Accent tips\n      const accentTips: string[] = [\n        'Focus on word stress patterns',\n        'Practice intonation at the end of questions',\n        'Clear pronunciation of consonant clusters'\n      ];\n      \n      const feedback: AIFeedback = {\n        overallScore: Math.round((score + fluencyScore) / 2),\n        pronunciation: {\n          score: score,\n          errors: pronunciationErrors,\n          suggestions: [\n            'Listen to native speakers carefully',\n            'Record yourself and compare with the original',\n            'Practice difficult words slowly first'\n          ]\n        },\n        grammar: {\n          score: grammarErrors.length === 0 ? 100 : 75,\n          errors: grammarErrors.length > 0 ? grammarErrors : ['No major errors detected'],\n          corrections: corrections.length > 0 ? corrections : ['Keep up the good work!']\n        },\n        fluency: {\n          score: Math.round(fluencyScore),\n          feedback: fluencyFeedback\n        },\n        accent: {\n          score: Math.max(60, score - 10),\n          tips: accentTips\n        }\n      };\n      \n      this.aiFeedback.set(feedback);\n      this.showAIPanel.set(true);\n      this.isAnalyzing.set(false);\n    }, 1500);\n  }\n\n  toggleAIPanel(): void {\n    this.showAIPanel.update(show => !show);\n  }\n\n  closeAIPanel(): void {\n    this.showAIPanel.set(false);\n  }\n\n  // Live Mentor Methods\n  loadMentorSessions(): void {\n    // Mock mentor sessions (replace with API call)\n    const mockSessions: MentorSession[] = [\n      {\n        id: 'ms-1',\n        mentorName: 'Dr. Priya Sharma',\n        mentorPhoto: 'https://randomuser.me/api/portraits/women/44.jpg',\n        date: '2025-12-18',\n        time: '10:00 AM IST',\n        duration: '60 minutes',\n        availableSlots: 5,\n        price: 500,\n        topics: ['Video Context Explanation', 'Grammar Deep Dive', 'Q&A Session'],\n        rating: 4.8\n      },\n      {\n        id: 'ms-2',\n        mentorName: 'Prof. Arjun Patel',\n        mentorPhoto: 'https://randomuser.me/api/portraits/men/32.jpg',\n        date: '2025-12-19',\n        time: '3:00 PM IST',\n        duration: '45 minutes',\n        availableSlots: 8,\n        price: 400,\n        topics: ['Pronunciation Practice', 'Cultural Context', 'Doubt Resolution'],\n        rating: 4.9\n      },\n      {\n        id: 'ms-3',\n        mentorName: 'Ms. Kavya Reddy',\n        mentorPhoto: 'https://randomuser.me/api/portraits/women/68.jpg',\n        date: '2025-12-20',\n        time: '6:00 PM IST',\n        duration: '90 minutes',\n        availableSlots: 3,\n        price: 700,\n        topics: ['Complete Scene Analysis', 'Vocabulary Building', 'Real-life Application'],\n        rating: 5.0\n      }\n    ];\n    \n    this.mentorSessions.set(mockSessions);\n  }\n\n  toggleMentorPanel(): void {\n    this.showMentorPanel.update(show => !show);\n  }\n\n  closeMentorPanel(): void {\n    this.showMentorPanel.set(false);\n    this.selectedMentorSession.set(null);\n  }\n\n  selectMentorSession(session: MentorSession): void {\n    this.selectedMentorSession.set(session);\n  }\n\n  bookMentorSession(session: MentorSession): void {\n    this.toastService.success(`Booking session with ${session.mentorName}!`);\n    setTimeout(() => {\n      this.toastService.info('Redirecting to payment page...');\n      // In production: this.router.navigate(['/live', 'book', session.id]);\n    }, 1500);\n  }\n\n  navigateToAICoach(): void {\n    this.router.navigate(['/ai-coach'], {\n      queryParams: {\n        lessonId: this.lessonId,\n        practiceData: JSON.stringify(this.practiceHistory())\n      }\n    });\n  }\n\n  navigateToLiveSessions(): void {\n    this.router.navigate(['/live'], {\n      queryParams: { lessonId: this.lessonId }\n    });\n  }\n}", "import { ComponentFixture, TestBed } from '@angular/core/testing';\nimport { provideZonelessChangeDetection } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { of } from 'rxjs';\nimport { LessonDetailComponent } from './lesson-detail.component';\nimport { ToastService } from '../../core/services/toast.service';\n\ndescribe('LessonDetailComponent', () => {\n  let component: LessonDetailComponent;\n  let fixture: ComponentFixture<LessonDetailComponent>;\n  let mockActivatedRoute: any;\n  let mockRouter: jasmine.SpyObj<Router>;\n  let mockToastService: jasmine.SpyObj<ToastService>;\n  let mockDomSanitizer: jasmine.SpyObj<DomSanitizer>;\n\n  beforeEach(async () => {\n    mockActivatedRoute = {\n      params: of({ id: 'test-lesson-id' }),\n      snapshot: {\n        params: { id: 'test-lesson-id' }\n      }\n    };\n    mockRouter = jasmine.createSpyObj('Router', ['navigate']);\n    mockToastService = jasmine.createSpyObj('ToastService', ['success', 'error', 'info']);\n    mockDomSanitizer = jasmine.createSpyObj('DomSanitizer', ['bypassSecurityTrustResourceUrl']);\n    mockDomSanitizer.bypassSecurityTrustResourceUrl.and.returnValue('safe-url' as any);\n\n    await TestBed.configureTestingModule({\n      declarations: [LessonDetailComponent],\n      providers: [\n        provideZonelessChangeDetection(),\n        { provide: ActivatedRoute, useValue: mockActivatedRoute },\n        { provide: Router, useValue: mockRouter },\n        { provide: ToastService, useValue: mockToastService },\n        { provide: DomSanitizer, useValue: mockDomSanitizer }\n      ]\n    }).compileComponents();\n\n    fixture = TestBed.createComponent(LessonDetailComponent);\n    component = fixture.componentInstance;\n  });\n\n  it('should create', () => {\n    expect(component).toBeTruthy();\n  });\n\n  it('should initialize with default values', () => {\n    expect(component.currentTab()).toBe('transcript');\n    expect(component.isRecording()).toBe(false);\n    expect(component.isPlaying()).toBe(false);\n  });\n\n  it('should have lessons data', () => {\n    expect(component.lessonId).toBeDefined();\n  });\n});\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA,IAAAA;AAAA,IAAAC,gCAAA;AAAA;AAAA,IAAAD,mCAAA;AAAA;AAAA;;;IC+Ea;;;;;;;AA/Eb;AACA;AACA;AACA;AA4EO,IAAM,wBAAN,MAAME,uBAAqB;MA8XtB;MACA;MACA;MACA;MAhYV,WAAmB;MACnB,aAAgC;MAChC,WAAmC;;MAGnC,gBAAgB,OAAsB,IAAI;MAC1C,YAAY,OAAO,KAAK;MACxB,gBAAgB,OAAO,CAAC;MACxB,iBAAiB,OAAO,IAAI;MAC5B,iBAAiB,OAAO,IAAI;MAC5B,cAAc,OAAO,IAAI;MACzB,aAAa,OAAgD,YAAY;;MAGzE,cAAc,OAAO,KAAK;MAC1B,iBAAiB,OAAO,EAAE;MAC1B,qBAAqB,OAAsB,IAAI;;MAG/C,iBAAiB,OAAoB,oBAAI,IAAG,CAAE;MAC9C,kBAAkB,OAAoB,oBAAI,IAAG,CAAE;;MAG/C,aAAa,OAA0B,IAAI;MAC3C,cAAc,OAAO,KAAK;MAC1B,kBAAkB,OAA8E,CAAA,CAAE;MAClG,cAAc,OAAO,KAAK;;MAG1B,iBAAiB,OAAwB,CAAA,CAAE;MAC3C,kBAAkB,OAAO,KAAK;MAC9B,wBAAwB,OAA6B,IAAI;MAEjD,UAAyC;QAC/C,qBAAqB;UACnB,IAAI;UACJ,OAAO;UACP,SAAS;UACT,OAAO;UACP,UAAU;UACV,WAAW;UACX,UAAU;YACR,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,gCAAgC,WAAW,EAAC;YAC7E,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,qCAAqC,WAAW,EAAC;YAClF,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,iDAAiD,WAAW,EAAC;YAC9F,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,4CAA6C,WAAW,GAAE;YAC3F,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,oDAAoD,WAAW,GAAE;YAClG,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,mCAAmC,WAAW,GAAE;YACjF,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,qCAAqC,WAAW,GAAE;YACnF,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,yCAA2C,WAAW,GAAE;YACzF,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,+CAA+C,WAAW,GAAE;YAC7F,EAAE,IAAI,IAAI,SAAS,SAAS,MAAM,mCAAqC,WAAW,GAAE;YACpF,EAAE,IAAI,IAAI,SAAS,SAAS,MAAM,2EAA4E,WAAW,GAAE;YAC3H,EAAE,IAAI,IAAI,SAAS,SAAS,MAAM,sDAAsD,WAAW,GAAE;YACrG,EAAE,IAAI,IAAI,SAAS,SAAS,MAAM,oDAAqD,WAAW,GAAE;YACpG,EAAE,IAAI,IAAI,SAAS,SAAS,MAAM,iGAAmG,WAAW,GAAE;YAClJ,EAAE,IAAI,IAAI,SAAS,SAAS,MAAM,wBAAwB,WAAW,GAAE;YACvE,EAAE,IAAI,IAAI,SAAS,SAAS,MAAM,0BAA0B,WAAW,GAAE;;UAE3E,YAAY;YACV,EAAE,MAAM,cAAc,SAAS,+CAA+C,SAAS,yCAAqC;YAC5H,EAAE,MAAM,aAAa,SAAS,iCAAiC,SAAS,qCAAoC;YAC5G,EAAE,MAAM,iBAAiB,SAAS,6CAA6C,SAAS,+CAA8C;YACtI,EAAE,MAAM,aAAa,SAAS,+CAA+C,SAAS,gCAA+B;YACrH,EAAE,MAAM,SAAS,SAAS,uCAAuC,SAAS,8BAA6B;YACvG,EAAE,MAAM,SAAS,SAAS,0CAA0C,SAAS,iCAAgC;YAC7G,EAAE,MAAM,WAAW,SAAS,6CAA6C,SAAS,kCAAiC;YACnH,EAAE,MAAM,SAAS,SAAS,iDAAiD,SAAS,4BAA2B;YAC/G,EAAE,MAAM,SAAS,SAAS,wCAAwC,SAAS,gCAA+B;YAC1G,EAAE,MAAM,OAAO,SAAS,wCAAwC,SAAS,gCAA+B;YACxG,EAAE,MAAM,QAAQ,SAAS,6CAA6C,SAAS,kBAAkB;YACjG,EAAE,MAAM,YAAY,SAAS,kCAAkC,SAAS,uCAAuC;;UAEjH,SAAS;YACP;cACE,OAAO;cACP,aAAa;cACb,UAAU;gBACR;gBACA;gBACA;;;YAGJ;cACE,OAAO;cACP,aAAa;cACb,UAAU;gBACR;gBACA;gBACA;;;YAGJ;cACE,OAAO;cACP,aAAa;cACb,UAAU;gBACR;gBACA;gBACA;;;YAGJ;cACE,OAAO;cACP,aAAa;cACb,UAAU;gBACR;gBACA;gBACA;;;;;QAKR,qBAAqB;UACnB,IAAI;UACJ,OAAO;UACP,SAAS;UACT,OAAO;UACP,UAAU;UACV,WAAW;UACX,UAAU;YACR,EAAE,IAAI,GAAG,SAAS,cAAc,MAAM,4CAA4C,WAAW,EAAC;YAC9F,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,+DAAgE,WAAW,EAAC;YAC7G,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,mCAAmC,WAAW,EAAC;YAChF,EAAE,IAAI,GAAG,SAAS,cAAc,MAAM,2CAA4C,WAAW,GAAE;YAC/F,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,gFAAkF,WAAW,GAAE;YAChI,EAAE,IAAI,GAAG,SAAS,cAAc,MAAM,8DAA+D,WAAW,GAAE;YAClH,EAAE,IAAI,GAAG,SAAS,cAAc,MAAM,8CAA8C,WAAW,GAAE;YACjG,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,sDAAsD,WAAW,GAAE;YACpG,EAAE,IAAI,GAAG,SAAS,cAAc,MAAM,kEAAkE,WAAW,GAAE;YACrH,EAAE,IAAI,IAAI,SAAS,SAAS,MAAM,sCAAsC,WAAW,GAAE;YACrF,EAAE,IAAI,IAAI,SAAS,cAAc,MAAM,+DAAkE,WAAW,GAAE;YACtH,EAAE,IAAI,IAAI,SAAS,SAAS,MAAM,sCAAsC,WAAW,GAAE;YACrF,EAAE,IAAI,IAAI,SAAS,cAAc,MAAM,iCAAiC,WAAW,GAAE;YACrF,EAAE,IAAI,IAAI,SAAS,cAAc,MAAM,oDAAoD,WAAW,GAAE;;UAE1G,YAAY;YACV,EAAE,MAAM,QAAQ,SAAS,uCAAuC,SAAS,6BAA6B;YACtG,EAAE,MAAM,cAAc,SAAS,qCAAqC,SAAS,6CAA4C;YACzH,EAAE,MAAM,WAAW,SAAS,uCAAuC,SAAS,4BAA2B;YACvG,EAAE,MAAM,UAAU,SAAS,gCAAgC,SAAS,6BAA4B;YAChG,EAAE,MAAM,UAAU,SAAS,sCAAsC,SAAS,iCAAgC;YAC1G,EAAE,MAAM,QAAQ,SAAS,iCAAiC,SAAS,iCAAgC;YACnG,EAAE,MAAM,UAAU,SAAS,sCAAsC,SAAS,oCAAoC;YAC9G,EAAE,MAAM,aAAa,SAAS,wCAAwC,SAAS,oCAAmC;YAClH,EAAE,MAAM,WAAW,SAAS,6CAA6C,SAAS,gCAAgC;YAClH,EAAE,MAAM,WAAW,SAAS,gDAAiD,SAAS,sCAAsC;;UAE9H,SAAS;YACP;cACE,OAAO;cACP,aAAa;cACb,UAAU;gBACR;gBACA;gBACA;;;YAGJ;cACE,OAAO;cACP,aAAa;cACb,UAAU;gBACR;gBACA;gBACA;;;YAGJ;cACE,OAAO;cACP,aAAa;cACb,UAAU;gBACR;gBACA;gBACA;;;;;QAKR,gBAAgB;UACd,IAAI;UACJ,OAAO;UACP,SAAS;UACT,OAAO;UACP,UAAU;UACV,WAAW;UACX,UAAU;YACR,EAAE,IAAI,GAAG,SAAS,WAAW,MAAM,wEAAwE,WAAW,EAAC;YACvH,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,gDAAiD,WAAW,EAAC;YAC9F,EAAE,IAAI,GAAG,SAAS,WAAW,MAAM,4DAA4D,WAAW,EAAC;YAC3G,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,+BAAgC,WAAW,GAAE;YAC9E,EAAE,IAAI,GAAG,SAAS,WAAW,MAAM,kDAAkD,WAAW,GAAE;YAClG,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,mDAAmD,WAAW,GAAE;YACjG,EAAE,IAAI,GAAG,SAAS,WAAW,MAAM,6BAA6B,WAAW,GAAE;YAC7E,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,mCAAoC,WAAW,GAAE;YAClF,EAAE,IAAI,GAAG,SAAS,WAAW,MAAM,oCAA+B,WAAW,GAAE;YAC/E,EAAE,IAAI,IAAI,SAAS,SAAS,MAAM,mCAAmC,WAAW,GAAE;YAClF,EAAE,IAAI,IAAI,SAAS,WAAW,MAAM,+CAA+C,WAAW,GAAE;YAChG,EAAE,IAAI,IAAI,SAAS,SAAS,MAAM,+BAA+B,WAAW,GAAE;;UAEhF,YAAY;YACV,EAAE,MAAM,cAAc,SAAS,0CAA0C,SAAS,8CAA6C;YAC/H,EAAE,MAAM,QAAQ,SAAS,iCAAiC,SAAS,kCAAiC;YACpG,EAAE,MAAM,UAAU,SAAS,yCAAyC,SAAS,qCAAqC;YAClH,EAAE,MAAM,QAAQ,SAAS,6BAA6B,SAAS,kCAAiC;YAChG,EAAE,MAAM,UAAU,SAAS,oBAAoB,SAAS,wCAAuC;YAC/F,EAAE,MAAM,SAAS,SAAS,wCAAwC,SAAS,+BAAyB;YACpG,EAAE,MAAM,OAAO,SAAS,8CAA8C,SAAS,gCAA+B;YAC9G,EAAE,MAAM,WAAW,SAAS,sCAAsC,SAAS,sCAAqC;;UAElH,SAAS;YACP;cACE,OAAO;cACP,aAAa;cACb,UAAU;gBACR;gBACA;gBACA;;;YAGJ;cACE,OAAO;cACP,aAAa;cACb,UAAU;gBACR;gBACA;gBACA;;;YAGJ;cACE,OAAO;cACP,aAAa;cACb,UAAU;gBACR;gBACA;gBACA;;;;;QAKR,qBAAqB;UACnB,IAAI;UACJ,OAAO;UACP,SAAS;UACT,OAAO;UACP,UAAU;UACV,WAAW;UACX,UAAU;YACR,EAAE,IAAI,GAAG,SAAS,aAAa,MAAM,8DAA8D,WAAW,EAAC;YAC/G,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,wDAAyD,WAAW,EAAC;YACtG,EAAE,IAAI,GAAG,SAAS,aAAa,MAAM,6CAA6C,WAAW,EAAC;YAC9F,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,kDAAmD,WAAW,GAAE;YACjG,EAAE,IAAI,GAAG,SAAS,aAAa,MAAM,2EAAsE,WAAW,GAAE;YACxH,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,mDAAmD,WAAW,GAAE;YACjG,EAAE,IAAI,GAAG,SAAS,aAAa,MAAM,kFAA6E,WAAW,GAAE;YAC/H,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,6DAA6D,WAAW,GAAE;YAC3G,EAAE,IAAI,GAAG,SAAS,aAAa,MAAM,8DAA8D,WAAW,GAAE;YAChH,EAAE,IAAI,IAAI,SAAS,SAAS,MAAM,gEAAgE,WAAW,GAAE;YAC/G,EAAE,IAAI,IAAI,SAAS,aAAa,MAAM,gDAA4C,WAAW,GAAE;YAC/F,EAAE,IAAI,IAAI,SAAS,SAAS,MAAM,4BAA6B,WAAW,GAAE;YAC5E,EAAE,IAAI,IAAI,SAAS,aAAa,MAAM,6EAA8E,WAAW,GAAE;YACjI,EAAE,IAAI,IAAI,SAAS,SAAS,MAAM,mDAAmD,WAAW,GAAE;YAClG,EAAE,IAAI,IAAI,SAAS,aAAa,MAAM,+CAA+C,WAAW,GAAE;;UAEpG,YAAY;YACV,EAAE,MAAM,UAAU,SAAS,mCAAmC,SAAS,yCAAwC;YAC/G,EAAE,MAAM,oBAAoB,SAAS,8BAA8B,SAAS,+BAA8B;YAC1G,EAAE,MAAM,eAAe,SAAS,gDAAgD,SAAS,0CAAyC;YAClI,EAAE,MAAM,cAAc,SAAS,oCAAoC,SAAS,8CAA8C;YAC1H,EAAE,MAAM,YAAY,SAAS,sCAAsC,SAAS,uCAAsC;YAClH,EAAE,MAAM,aAAa,SAAS,0CAA0C,SAAS,yCAAwC;YACzH,EAAE,MAAM,SAAS,SAAS,gCAAgC,SAAS,yBAAwB;YAC3F,EAAE,MAAM,SAAS,SAAS,uBAAuB,SAAS,yCAAwC;YAClG,EAAE,MAAM,UAAU,SAAS,oCAAoC,SAAS,gCAA+B;YACvG,EAAE,MAAM,MAAM,SAAS,uBAAuB,SAAS,+BAA8B;YACrF,EAAE,MAAM,UAAU,SAAS,oBAAoB,SAAS,6BAA4B;;UAEtF,SAAS;YACP;cACE,OAAO;cACP,aAAa;cACb,UAAU;gBACR;gBACA;gBACA;;;YAGJ;cACE,OAAO;cACP,aAAa;cACb,UAAU;gBACR;gBACA;gBACA;;;YAGJ;cACE,OAAO;cACP,aAAa;cACb,UAAU;gBACR;gBACA;gBACA;;;YAGJ;cACE,OAAO;cACP,aAAa;cACb,UAAU;gBACR;gBACA;gBACA;;;;;QAKR,uBAAuB;UACrB,IAAI;UACJ,OAAO;UACP,SAAS;UACT,OAAO;UACP,UAAU;UACV,WAAW;UACX,UAAU;YACR,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,gDAAgD,WAAW,EAAC;YAC7F,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,+DAAgE,WAAW,EAAC;YAC7G,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,2CAA4C,WAAW,EAAC;YACzF,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,iEAAiE,WAAW,GAAE;YAC/G,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,qDAAsD,WAAW,GAAE;YACpG,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,kEAAmE,WAAW,GAAE;YACjH,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,mEAAmE,WAAW,GAAE;YACjH,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,4DAA6D,WAAW,GAAE;YAC3G,EAAE,IAAI,GAAG,SAAS,SAAS,MAAM,gEAAiE,WAAW,GAAE;YAC/G,EAAE,IAAI,IAAI,SAAS,SAAS,MAAM,wCAAwC,WAAW,GAAE;YACvF,EAAE,IAAI,IAAI,SAAS,SAAS,MAAM,4DAA4D,WAAW,GAAE;YAC3G,EAAE,IAAI,IAAI,SAAS,SAAS,MAAM,oDAAqD,WAAW,GAAE;YACpG,EAAE,IAAI,IAAI,SAAS,SAAS,MAAM,wEAAyE,WAAW,GAAE;;UAE1H,YAAY;YACV,EAAE,MAAM,WAAW,SAAS,8BAA8B,SAAS,oCAAmC;YACtG,EAAE,MAAM,SAAS,SAAS,4BAA4B,SAAS,kCAAiC;YAChG,EAAE,MAAM,cAAc,SAAS,2BAA2B,SAAS,sCAAqC;YACxG,EAAE,MAAM,SAAS,SAAS,qCAAqC,SAAS,qCAAoC;YAC5G,EAAE,MAAM,WAAW,SAAS,oCAAoC,SAAS,gCAA+B;YACxG,EAAE,MAAM,YAAY,SAAS,iCAAiC,SAAS,+BAA8B;YACrG,EAAE,MAAM,WAAW,SAAS,kCAAkC,SAAS,oCAAmC;YAC1G,EAAE,MAAM,SAAS,SAAS,kBAAkB,SAAS,6BAA4B;YACjF,EAAE,MAAM,YAAY,SAAS,gCAAgC,SAAS,4BAA2B;YACjG,EAAE,MAAM,aAAa,SAAS,8BAA8B,SAAS,kCAAiC;;UAExG,SAAS;YACP;cACE,OAAO;cACP,aAAa;cACb,UAAU;gBACR;gBACA;gBACA;;;YAGJ;cACE,OAAO;cACP,aAAa;cACb,UAAU;gBACR;gBACA;gBACA;;;YAGJ;cACE,OAAO;cACP,aAAa;cACb,UAAU;gBACR;gBACA;gBACA;;;;;;MAOV,YACU,OACA,QACA,WACA,cAA0B;AAH1B,aAAA,QAAA;AACA,aAAA,SAAA;AACA,aAAA,YAAA;AACA,aAAA,eAAA;MACP;MAEH,WAAQ;AACN,aAAK,MAAM,OAAO,UAAU,YAAS;AACnC,eAAK,WAAW,OAAO,IAAI;AAC3B,eAAK,WAAU;QACjB,CAAC;MACH;MAEA,cAAW;AACT,aAAK,aAAY;MACnB;MAEA,aAAU;AACR,aAAK,aAAa,KAAK,QAAQ,KAAK,QAAQ,KAAK;AACjD,YAAI,KAAK,YAAY;AACnB,eAAK,mBAAkB;AAEvB,cAAI,KAAK,WAAW,QAAQ,SAAS,OAAO,GAAG;AAE7C,gBAAI,gBAAgB;AACpB,oBAAQ,KAAK,UAAU;cACrB,KAAK;AACH,gCAAgB;AAChB;cACF,KAAK;AACH,gCAAgB;AAChB;cACF,KAAK;AACH,gCAAgB;AAChB;YACJ;AACA,iBAAK,WAAW,KAAK,UAAU,+BAC7B,IAAI,aAAa,EAAE;UAEvB,OAAO;AAEL,iBAAK,WAAW,KAAK,UAAU,+BAC7B,iCAAiC,KAAK,WAAW,OAAO,gBAAgB;UAE5E;QACF;MACF;MAEA,SAAS,MAAkB;AACzB,aAAK,cAAc,IAAI,KAAK,EAAE;AAG9B,YAAI,qBAAqB,QAAQ;AAC/B,gBAAM,YAAY,IAAI,yBAAyB,KAAK,IAAI;AACxD,oBAAU,OAAO;AACjB,oBAAU,OAAO,KAAK,cAAa;AAGnC,gBAAM,SAAS,gBAAgB,UAAS;AACxC,gBAAM,cAAc,OAAO,KAAK,WAC9B,MAAM,KAAK,SAAS,QAAQ,KAC5B,MAAM,KAAK,SAAS,QAAQ,KAC5B,MAAM,KAAK,SAAS,UAAU,KAC9B,MAAM,KAAK,SAAS,UAAU,CAAC;AAEjC,cAAI,aAAa;AACf,sBAAU,QAAQ;UACpB;AAEA,oBAAU,QAAQ,MAAK;AACrB,iBAAK,cAAc,IAAI,IAAI;AAC3B,iBAAK,eAAe,OAAO,WAAS,oBAAI,IAAI,CAAC,GAAG,OAAO,KAAK,EAAE,CAAC,CAAC;UAClE;AAEA,0BAAgB,OAAM;AACtB,0BAAgB,MAAM,SAAS;QACjC;MACF;MAEA,eAAe,MAAoB;AACjC,YAAI,qBAAqB,QAAQ;AAC/B,gBAAM,YAAY,IAAI,yBAAyB,KAAK,IAAI;AACxD,oBAAU,OAAO;AACjB,oBAAU,OAAO;AAEjB,gBAAM,SAAS,gBAAgB,UAAS;AACxC,gBAAM,cAAc,OAAO,KAAK,WAC9B,MAAM,KAAK,SAAS,QAAQ,KAAK,MAAM,KAAK,SAAS,UAAU,CAAC;AAElE,cAAI,aAAa;AACf,sBAAU,QAAQ;UACpB;AAEA,0BAAgB,OAAM;AACtB,0BAAgB,MAAM,SAAS;QACjC;MACF;MAEA,eAAY;AACV,YAAI,qBAAqB,QAAQ;AAC/B,0BAAgB,OAAM;QACxB;MACF;MAEA,eAAe,QAAc;AAC3B,aAAK,gBAAgB,OAAO,WAAQ;AAClC,gBAAM,SAAS,IAAI,IAAI,KAAK;AAC5B,cAAI,OAAO,IAAI,MAAM,GAAG;AACtB,mBAAO,OAAO,MAAM;UACtB,OAAO;AACL,mBAAO,IAAI,MAAM;UACnB;AACA,iBAAO;QACT,CAAC;MACH;MAEA,iBAAiB,OAAa;AAC5B,aAAK,cAAc,IAAI,KAAK;MAC9B;MAEA,UAAU,KAA4C;AACpD,aAAK,WAAW,IAAI,GAAG;MACzB;MAEA,eAAe,MAAkB;AAC/B,YAAI,EAAE,6BAA6B,SAAS;AAC1C,eAAK,aAAa,MAAM,kDAAkD;AAC1E;QACF;AAEA,cAAM,cAAc,IAAK,OAAe,wBAAuB;AAC/D,oBAAY,OAAO;AACnB,oBAAY,aAAa;AACzB,oBAAY,iBAAiB;AAE7B,aAAK,YAAY,IAAI,IAAI;AACzB,aAAK,eAAe,IAAI,EAAE;AAE1B,oBAAY,WAAW,CAAC,UAAc;AACpC,gBAAM,aAAa,MAAM,QAAQ,CAAC,EAAE,CAAC,EAAE;AACvC,eAAK,eAAe,IAAI,UAAU;AAClC,gBAAM,QAAQ,KAAK,4BAA4B,KAAK,MAAM,UAAU;AAGpE,eAAK,gBAAgB,OAAO,aAAW;YACrC,GAAG;YACH,EAAE,QAAQ,KAAK,IAAI,MAAM,YAAY,OAAO,WAAW,oBAAI,KAAI,EAAE;WAClE;AAGD,eAAK,mBAAmB,KAAK,MAAM,YAAY,KAAK;AACpD,eAAK,YAAY,IAAI,KAAK;QAC5B;AAEA,oBAAY,UAAU,MAAK;AACzB,eAAK,YAAY,IAAI,KAAK;AAC1B,eAAK,aAAa,MAAM,gDAAgD;QAC1E;AAEA,oBAAY,QAAQ,MAAK;AACvB,eAAK,YAAY,IAAI,KAAK;QAC5B;AAEA,oBAAY,MAAK;MACnB;MAEA,4BAA4B,UAAkB,QAAc;AAC1D,cAAM,gBAAgB,SAAS,YAAW,EAAG,MAAM,KAAK;AACxD,cAAM,cAAc,OAAO,YAAW,EAAG,MAAM,KAAK;AAEpD,YAAI,UAAU;AACd,mBAAW,QAAQ,aAAa;AAC9B,cAAI,cAAc,SAAS,IAAI,GAAG;AAChC;UACF;QACF;AAEA,cAAM,QAAQ,KAAK,MAAO,UAAU,cAAc,SAAU,GAAG;AAC/D,aAAK,mBAAmB,IAAI,KAAK,IAAI,OAAO,GAAG,CAAC;AAChD,eAAO,KAAK,IAAI,OAAO,GAAG;MAC5B;MAEA,wBAAqB;AACnB,YAAI,CAAC,KAAK;AAAY,iBAAO;AAC7B,eAAO,KAAK,MAAO,KAAK,eAAc,EAAG,OAAO,KAAK,WAAW,SAAS,SAAU,GAAG;MACxF;MAEA,SAAM;AACJ,aAAK,OAAO,SAAS,CAAC,WAAW,CAAC;MACpC;MAEA,qBAAkB;AAChB,YAAI,CAAC,KAAK;AAAY;AAEtB,YAAI,UAAU,GAAG,KAAK,WAAW,KAAK;;;AACtC,mBAAW;AAEX,aAAK,WAAW,SAAS,QAAQ,UAAO;AACtC,qBAAW,GAAG,KAAK,OAAO,KAAK,KAAK,IAAI;;QAC1C,CAAC;AAED,mBAAW;AACX,aAAK,WAAW,WAAW,QAAQ,UAAO;AACxC,qBAAW,GAAG,KAAK,IAAI,KAAK,KAAK,OAAO;;AACxC,qBAAW,YAAY,KAAK,OAAO;;;QACrC,CAAC;AAED,cAAM,OAAO,IAAI,KAAK,CAAC,OAAO,GAAG,EAAE,MAAM,aAAY,CAAE;AACvD,cAAM,MAAM,OAAO,IAAI,gBAAgB,IAAI;AAC3C,cAAM,IAAI,SAAS,cAAc,GAAG;AACpC,UAAE,OAAO;AACT,UAAE,WAAW,GAAG,KAAK,WAAW,EAAE;AAClC,UAAE,MAAK;MACT;;MAGA,mBAAmB,UAAkB,QAAgB,OAAa;AAChE,aAAK,YAAY,IAAI,IAAI;AAGzB,mBAAW,MAAK;AACd,gBAAM,gBAAgB,SAAS,YAAW,EAAG,MAAM,KAAK;AACxD,gBAAM,cAAc,OAAO,YAAW,EAAG,MAAM,KAAK;AAGpD,gBAAM,sBAAgC,CAAA;AACtC,gBAAM,cAAc,cAAc,OAAO,UAAQ,CAAC,YAAY,SAAS,IAAI,CAAC;AAC5E,cAAI,YAAY,SAAS,GAAG;AAC1B,gCAAoB,KAAK,iBAAiB,YAAY,KAAK,IAAI,CAAC,EAAE;UACpE;AAGA,gBAAM,gBAA0B,CAAA;AAChC,gBAAM,cAAwB,CAAA;AAC9B,cAAI,CAAC,OAAO,MAAM,QAAQ,GAAG;AAC3B,0BAAc,KAAK,6CAA6C;AAChE,wBAAY,KAAK,uCAAuC;UAC1D;AACA,cAAI,CAAC,OAAO,MAAM,QAAQ,GAAG;AAC3B,0BAAc,KAAK,gCAAgC;UACrD;AAGA,gBAAM,YAAY,YAAY;AAC9B,gBAAM,eAAe,KAAK,IAAI,KAAM,YAAY,cAAc,SAAU,GAAG;AAC3E,cAAI,kBAAkB;AACtB,cAAI,gBAAgB,IAAI;AACtB,8BAAkB;UACpB,WAAW,gBAAgB,IAAI;AAC7B,8BAAkB;UACpB,OAAO;AACL,8BAAkB;UACpB;AAGA,gBAAM,aAAuB;YAC3B;YACA;YACA;;AAGF,gBAAM,WAAuB;YAC3B,cAAc,KAAK,OAAO,QAAQ,gBAAgB,CAAC;YACnD,eAAe;cACb;cACA,QAAQ;cACR,aAAa;gBACX;gBACA;gBACA;;;YAGJ,SAAS;cACP,OAAO,cAAc,WAAW,IAAI,MAAM;cAC1C,QAAQ,cAAc,SAAS,IAAI,gBAAgB,CAAC,0BAA0B;cAC9E,aAAa,YAAY,SAAS,IAAI,cAAc,CAAC,wBAAwB;;YAE/E,SAAS;cACP,OAAO,KAAK,MAAM,YAAY;cAC9B,UAAU;;YAEZ,QAAQ;cACN,OAAO,KAAK,IAAI,IAAI,QAAQ,EAAE;cAC9B,MAAM;;;AAIV,eAAK,WAAW,IAAI,QAAQ;AAC5B,eAAK,YAAY,IAAI,IAAI;AACzB,eAAK,YAAY,IAAI,KAAK;QAC5B,GAAG,IAAI;MACT;MAEA,gBAAa;AACX,aAAK,YAAY,OAAO,UAAQ,CAAC,IAAI;MACvC;MAEA,eAAY;AACV,aAAK,YAAY,IAAI,KAAK;MAC5B;;MAGA,qBAAkB;AAEhB,cAAM,eAAgC;UACpC;YACE,IAAI;YACJ,YAAY;YACZ,aAAa;YACb,MAAM;YACN,MAAM;YACN,UAAU;YACV,gBAAgB;YAChB,OAAO;YACP,QAAQ,CAAC,6BAA6B,qBAAqB,aAAa;YACxE,QAAQ;;UAEV;YACE,IAAI;YACJ,YAAY;YACZ,aAAa;YACb,MAAM;YACN,MAAM;YACN,UAAU;YACV,gBAAgB;YAChB,OAAO;YACP,QAAQ,CAAC,0BAA0B,oBAAoB,kBAAkB;YACzE,QAAQ;;UAEV;YACE,IAAI;YACJ,YAAY;YACZ,aAAa;YACb,MAAM;YACN,MAAM;YACN,UAAU;YACV,gBAAgB;YAChB,OAAO;YACP,QAAQ,CAAC,2BAA2B,uBAAuB,uBAAuB;YAClF,QAAQ;;;AAIZ,aAAK,eAAe,IAAI,YAAY;MACtC;MAEA,oBAAiB;AACf,aAAK,gBAAgB,OAAO,UAAQ,CAAC,IAAI;MAC3C;MAEA,mBAAgB;AACd,aAAK,gBAAgB,IAAI,KAAK;AAC9B,aAAK,sBAAsB,IAAI,IAAI;MACrC;MAEA,oBAAoB,SAAsB;AACxC,aAAK,sBAAsB,IAAI,OAAO;MACxC;MAEA,kBAAkB,SAAsB;AACtC,aAAK,aAAa,QAAQ,wBAAwB,QAAQ,UAAU,GAAG;AACvE,mBAAW,MAAK;AACd,eAAK,aAAa,KAAK,gCAAgC;QAEzD,GAAG,IAAI;MACT;MAEA,oBAAiB;AACf,aAAK,OAAO,SAAS,CAAC,WAAW,GAAG;UAClC,aAAa;YACX,UAAU,KAAK;YACf,cAAc,KAAK,UAAU,KAAK,gBAAe,CAAE;;SAEtD;MACH;MAEA,yBAAsB;AACpB,aAAK,OAAO,SAAS,CAAC,OAAO,GAAG;UAC9B,aAAa,EAAE,UAAU,KAAK,SAAQ;SACvC;MACH;;;;;;;;AA1vBW,4BAAqB,WAAA;MANjC,UAAU;QACT,UAAU;QACV,YAAY;QACZ,UAAA;;OAED;OACY,qBAAqB;;;;;AC/ElC;;;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AAEA,aAAS,yBAAyB,MAAK;AACrC,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI;AAEJ,iBAAW,MAAW;AACpB,6BAAqB;UACnB,QAAQ,GAAG,EAAE,IAAI,iBAAgB,CAAE;UACnC,UAAU;YACR,QAAQ,EAAE,IAAI,iBAAgB;;;AAGlC,qBAAa,QAAQ,aAAa,UAAU,CAAC,UAAU,CAAC;AACxD,2BAAmB,QAAQ,aAAa,gBAAgB,CAAC,WAAW,SAAS,MAAM,CAAC;AACpF,2BAAmB,QAAQ,aAAa,gBAAgB,CAAC,gCAAgC,CAAC;AAC1F,yBAAiB,+BAA+B,IAAI,YAAY,UAAiB;AAEjF,cAAM,QAAQ,uBAAuB;UACnC,cAAc,CAAC,qBAAqB;UACpC,WAAW;YACT,+BAA8B;YAC9B,EAAE,SAAS,gBAAgB,UAAU,mBAAkB;YACvD,EAAE,SAAS,QAAQ,UAAU,WAAU;YACvC,EAAE,SAAS,cAAc,UAAU,iBAAgB;YACnD,EAAE,SAAS,cAAc,UAAU,iBAAgB;;SAEtD,EAAE,kBAAiB;AAEpB,kBAAU,QAAQ,gBAAgB,qBAAqB;AACvD,oBAAY,QAAQ;MACtB,EAAC;AAED,SAAG,iBAAiB,MAAK;AACvB,eAAO,SAAS,EAAE,WAAU;MAC9B,CAAC;AAED,SAAG,yCAAyC,MAAK;AAC/C,eAAO,UAAU,WAAU,CAAE,EAAE,KAAK,YAAY;AAChD,eAAO,UAAU,YAAW,CAAE,EAAE,KAAK,KAAK;AAC1C,eAAO,UAAU,UAAS,CAAE,EAAE,KAAK,KAAK;MAC1C,CAAC;AAED,SAAG,4BAA4B,MAAK;AAClC,eAAO,UAAU,QAAQ,EAAE,YAAW;MACxC,CAAC;IACH,CAAC;;;",
  "names": ["lesson_detail_component_default", "init_lesson_detail_component", "LessonDetailComponent", "init_lesson_detail_component"]
}
