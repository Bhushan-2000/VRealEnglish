import{$ as R,A as O,Aa as B,Ba as L,E as l,G as w,H as I,Ha as F,I as k,Ia as C,L as v,R as E,Ra as A,S as s,T as t,Ta as D,U as n,V as p,Y as S,Z as x,_ as c,aa as V,ba as z,ca as T,da as y,fa as a,ga as m,ha as j,l as b,p as g,q as f,r as _,s as M,z as P}from"./chunk-FM3NJA2C.js";import"./chunk-7CGTOI24.js";var $=["viewer360"];function H(o,i){if(o&1){let e=S();t(0,"div",9),x("click",function(){let d=g(e).$implicit,u=c();return f(u.selectModule(d))})("keydown.enter",function(){let d=g(e).$implicit,u=c();return f(u.selectModule(d))})("keydown.space",function(){let d=g(e).$implicit,u=c();return f(u.selectModule(d))}),t(1,"div",10),p(2,"img",11),t(3,"div",12)(4,"span",13),a(5),n(),t(6,"span",14),a(7),n()()(),t(8,"div",15)(9,"h3"),a(10),n(),t(11,"p"),a(12),n()()()}if(o&2){let e=i.$implicit,r=c();y("selected",(r.selectedModule==null?null:r.selectedModule.id)===e.id),E("aria-label","Select "+e.title+" module"),l(2),s("src",e.thumbnail,O)("alt",e.title+" thumbnail"),l(3),m(e.duration),l(),T("background-color",r.getDifficultyColor(e.difficulty)),l(),j(" ",e.difficulty," "),l(3),m(e.title),l(2),m(e.description)}}function Y(o,i){o&1&&(t(0,"div",27),p(1,"div",28),t(2,"p"),a(3,"Loading 360\xB0 experience..."),n()())}function G(o,i){if(o&1&&(t(0,"div",16)(1,"div",17)(2,"h2"),a(3),n(),t(4,"p"),a(5),n()(),t(6,"div",18)(7,"div",19,0),v(9,Y,4,0,"div",20),n()(),t(10,"div",21)(11,"div",22),_(),t(12,"svg",23),p(13,"circle",24)(14,"line",25)(15,"line",26),n(),M(),t(16,"span"),a(17,"Click and drag to look around. Use fullscreen for best VR experience."),n()()()()),o&2){let e=c();l(3),m(e.selectedModule.title),l(2),m(e.selectedModule.description),l(2),y("loading",e.isLoading),l(2),s("ngIf",e.isLoading)}}function J(o,i){o&1&&(t(0,"div",29),_(),t(1,"svg",30),p(2,"path",31)(3,"path",32),n(),M(),t(4,"h3"),a(5,"Select a 360\xB0 module to begin"),n(),t(6,"p"),a(7,"Choose from our immersive English learning scenarios above"),n()())}var h=class o{constructor(i,e){this.platformId=i;this.router=e}viewer360Ref;modules=[];selectedModule=null;isLoading=!1;viewerInitialized=!1;viewer;panorama;goBack(){this.router.navigate(["/courses"])}ngOnInit(){this.loadModules()}ngAfterViewInit(){C(this.platformId)&&this.modules.length>0&&this.selectModule(this.modules[0])}ngOnDestroy(){this.cleanup360Viewer()}loadModules(){this.modules=[{id:"1",title:"Airport Scenario",description:"Practice English at the airport - Check-in, Security, and Boarding",videoId:"IArd6ZadFJ4",thumbnail:"https://img.youtube.com/vi/IArd6ZadFJ4/maxresdefault.jpg",duration:"5:30",difficulty:"beginner"},{id:"2",title:"Restaurant Experience",description:"Learn restaurant vocabulary and ordering food in English",videoId:"yRM4wsXQ5KI",thumbnail:"https://img.youtube.com/vi/yRM4wsXQ5KI/maxresdefault.jpg",duration:"6:15",difficulty:"intermediate"},{id:"3",title:"Business Meeting",description:"Professional English in a corporate environment",videoId:"_ldiu5OiA9g",thumbnail:"https://img.youtube.com/vi/_ldiu5OiA9g/maxresdefault.jpg",duration:"7:45",difficulty:"advanced"}]}selectModule(i){this.selectedModule?.id!==i.id&&(this.selectedModule=i,this.isLoading=!0,this.cleanup360Viewer(),C(this.platformId)&&setTimeout(()=>this.init360Viewer(),100))}async init360Viewer(){if(this.viewer360Ref)try{let[i,e]=await Promise.all([import("./chunk-Q65TE3CR.js"),import("./chunk-BHMQC5I3.js")]),r=this.viewer360Ref.nativeElement;this.viewer=new i.Viewer({container:r,controlBar:!0,autoRotate:!0,autoRotateSpeed:.3,output:"console"}),this.initYouTube360Player(),this.viewerInitialized=!0,this.isLoading=!1}catch(i){console.error("Error initializing 360 viewer:",i),this.initYouTube360Player(),this.isLoading=!1}}initYouTube360Player(){if(!this.viewer360Ref||!this.selectedModule)return;let i=this.viewer360Ref.nativeElement;i.innerHTML=`
      <iframe
        width="100%"
        height="100%"
        src="https://www.youtube.com/embed/${this.selectedModule.videoId}?autoplay=0&rel=0&modestbranding=1"
        title="${this.selectedModule.title}"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen
        style="border-radius: 12px;"
      ></iframe>
    `}cleanup360Viewer(){this.viewer&&(this.viewer.dispose(),this.viewer=null),this.panorama&&(this.panorama.dispose(),this.panorama=null),this.viewerInitialized=!1}getDifficultyColor(i){return{beginner:"#00C28A",intermediate:"#FFB800",advanced:"#FF6B6B"}[i]||"#9aa6b2"}static \u0275fac=function(e){return new(e||o)(w(P),w(A))};static \u0275cmp=I({type:o,selectors:[["app-module360-page"]],viewQuery:function(e,r){if(e&1&&R($,5),e&2){let d;V(d=z())&&(r.viewer360Ref=d.first)}},standalone:!1,decls:14,vars:3,consts:[["viewer360",""],[1,"module360-container","container"],[1,"back-btn",3,"click"],[1,"back-icon"],[1,"hero-section"],[1,"modules-grid"],["class","module-card","tabindex","0","role","button",3,"selected","click","keydown.enter","keydown.space",4,"ngFor","ngForOf"],["class","viewer-section",4,"ngIf"],["class","empty-state",4,"ngIf"],["tabindex","0","role","button",1,"module-card",3,"click","keydown.enter","keydown.space"],[1,"module-thumbnail"],["loading","lazy",3,"src","alt"],[1,"module-overlay"],[1,"duration"],[1,"difficulty"],[1,"module-info"],[1,"viewer-section"],[1,"viewer-header"],[1,"viewer-wrapper"],["role","region","aria-label","360 degree video player",1,"viewer-360"],["class","loading-spinner",4,"ngIf"],[1,"viewer-controls"],[1,"instruction"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"loading-spinner"],[1,"spinner"],[1,"empty-state"],["xmlns","http://www.w3.org/2000/svg","width","64","height","64","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2z"],["d","M12 6v6l4 2"]],template:function(e,r){e&1&&(t(0,"div",1)(1,"button",2),x("click",function(){return r.goBack()}),t(2,"span",3),a(3,"\u2190"),n(),a(4," Back to Courses "),n(),t(5,"div",4)(6,"h1"),a(7,"360\xB0 VR Modules"),n(),t(8,"p"),a(9,"Immersive English learning scenarios in virtual reality"),n()(),t(10,"div",5),v(11,H,13,11,"div",6),n(),v(12,G,18,5,"div",7)(13,J,8,0,"div",8),n()),e&2&&(l(11),s("ngForOf",r.modules),l(),s("ngIf",r.selectedModule),l(),s("ngIf",!r.selectedModule))},dependencies:[B,L],styles:[".module360-container[_ngcontent-%COMP%]{padding:2rem 1rem;min-height:100vh}.hero-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:var(--text);margin-bottom:.5rem}.hero-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;color:var(--muted)}.modules-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem;margin-bottom:3rem}.module-card[_ngcontent-%COMP%]{background:var(--surface);border:2px solid transparent;border-radius:12px;overflow:hidden;cursor:pointer;transition:all .3s ease}.module-card[_ngcontent-%COMP%]:hover, .module-card[_ngcontent-%COMP%]:focus{border-color:var(--brand-primary);transform:translateY(-4px);outline:none}.module-card.selected[_ngcontent-%COMP%]{border-color:var(--brand-accent);box-shadow:0 8px 24px #00c28a33}.module-thumbnail[_ngcontent-%COMP%]{position:relative;width:100%;padding-top:56.25%;overflow:hidden}.module-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.module-overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:1rem;background:linear-gradient(to top,rgba(0,0,0,.8),transparent);display:flex;justify-content:space-between;align-items:center}.duration[_ngcontent-%COMP%]{color:#fff;font-size:.875rem;font-weight:600}.difficulty[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;color:#fff;font-size:.75rem;font-weight:600;text-transform:capitalize}.module-info[_ngcontent-%COMP%]{padding:1.25rem}.module-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:var(--text);margin-bottom:.5rem}.module-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:var(--muted);line-height:1.5}.viewer-section[_ngcontent-%COMP%]{margin-top:3rem}.viewer-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.viewer-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:var(--text);margin-bottom:.5rem}.viewer-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--muted)}.viewer-wrapper[_ngcontent-%COMP%]{background:var(--surface);border-radius:16px;padding:1rem;margin-bottom:1.5rem}.viewer-360[_ngcontent-%COMP%]{position:relative;width:100%;height:600px;background:#000;border-radius:12px;overflow:hidden;display:flex;align-items:center;justify-content:center}.viewer-360[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:100%}.loading-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid rgba(11,110,255,.2);border-top-color:var(--brand-primary);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--muted);font-size:.875rem}.viewer-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1rem}.instruction[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem 1.5rem;background:#0b6eff1a;border-radius:8px;color:var(--brand-primary)}.instruction[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{flex-shrink:0}.instruction[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:var(--muted)}.empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:0 auto 1.5rem;opacity:.5}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text);margin-bottom:.5rem}@media (max-width: 768px){.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.modules-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.viewer-360[_ngcontent-%COMP%]{height:400px}.instruction[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}"]})};var N=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=k({type:o});static \u0275inj=b({imports:[F,D.forChild([{path:"",component:h}])]})};export{N as Module360Module};
